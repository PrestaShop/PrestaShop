{#**
 * 2007-2018 PrestaShop
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to http://www.prestashop.com for more information.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2018 PrestaShop SA
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 * International Registered Trademark & Property of PrestaShop SA
 *#}

{% set filtersForm = gridView.formView %}

{{ form_start(filtersForm) }}
<table class="table" id="{{ gridView.identifier }}">
  <thead class="thead-default">
  <tr class="column-headers">
    {% for columnView in gridView.columns %}
      <th scope="col">
        {% if columnView.sortable %}
          {{ ps.sortable_column_header(columnView.name, columnView.identifier, '', '') }}
        {% else %}
          {{ columnView.name }}
        {% endif %}
      </th>
    {% endfor %}
    <th scope="col">&nbsp;</th>
  </tr>
  {% if filtersForm|length > 1 %}
    <tr class="column-filters">
      {% for columnView in gridView.columns %}
        <th>
          {% if columnView.filterable %}
            {{ form_widget(filtersForm[columnView.identifier]) }}
          {% else %}
            -
          {% endif %}
        </th>
      {% endfor %}

      <th class="text-right">
        <button type="submit" class="btn btn-primary">
          <i class="material-icons">search</i>{{ 'Search'|trans({}, 'Admin.Shopparameters.Feature') }}
        </button>

        {% if gridView.formView.vars.data is not empty %}
          {#<a href="{{ path('admin_sql_manager', {'offset': filters.offset, 'limit': filters.limit}) }}"#}
          {#class="btn btn-warning"#}
          {#>#}
          {#<i class="material-icons">clear</i>{{ 'Reset'|trans({}, 'Admin.Actions') }}#}
          {#</a>#}
        {% endif %}
      </th>
    </tr>
  {% endif %}
  </thead>
  <tbody>
  {# If table has any rows then render those here #}
  {% if gridView.rows is not empty %}
    {% for tableRow in gridView.rows %}
      <tr>
        {# Render row columns here #}
        {% for columnView in gridView.columns %}
          <td>{{ tableRow.data[columnView.identifier] }}</td>
        {% endfor %}

        {# If row has any actions then render those here #}
        {% set rowActions = tableRow.actions|default([]) %}
        {% if rowActions is not empty %}
          <td class="text-right">
            <div class="btn-group-action">
              <div class="btn-group">
                <a href="{{ rowActions|first.url }}"
                   title="{{ rowActions|first.name }}"
                   class="btn tooltip-link"
                >
                  <i class="material-icons">{{ rowActions|first.icon }}</i>
                </a>

                {# If there's more than one action, then render remaining actions here #}
                {% if rowActions|length > 1 %}
                  <a class="btn btn-link dropdown-toggle dropdown-toggle-split"
                     data-toggle="dropdown"
                     aria-haspopup="true"
                     aria-expanded="false"
                  >
                  </a>

                  <div class="dropdown-menu dropdown-menu-right">
                    {% for rowAction in rowActions|slice(1) %}
                      <a class="dropdown-item" href="{{ rowAction.url }}">
                        <i class="material-icons">{{ rowAction.icon }}</i>
                        {{ rowAction.name }}
                      </a>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>
            </div>
          </td>
        {% endif %}
      </tr>
    {% endfor %}
  {% else %}
    <tr>
      <td colspan="{{ gridView.columns|length }}">
        <div class="text-center">
          <p><i class="material-icons">warning</i></p>
          <p>{{ 'No records found'|trans }}</p>
        </div>
      </td>
    </tr>
  {% endif %}
  </tbody>
</table>
{{ form_end(filtersForm) }}
