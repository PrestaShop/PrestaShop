{#**
 * 2007-2018 PrestaShop
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to http://www.prestashop.com for more information.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2018 PrestaShop SA
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 * International Registered Trademark & Property of PrestaShop SA
 *#}

{% set enableBulkView, enableBulkAdd, enableBulkEdit, enableBulkDelete, enableBulkAll = true, true, true, true, true %}

<div class="card">
  <h3 class="card-header">
    {{ 'Menu'|trans({}, 'Admin.Advparameters.Feature') }}
  </h3>
  <div class="card-body">
    <table class="table">
      {% if configurablePermissions.tabs is empty %}
        <tr>
          <td colspan="6">{{ 'No menu'|trans({}, 'Admin.Advparameters.Feature') }}</td>
        </tr>
      {% else %}
        {% for tab in configurablePermissions.tabs %}
          {% set profileTabPermissions = configurablePermissions.tabPermissions[profile.id] %}
          <tr>
            <td>&raquo;<strong>{{ tab.name }}</td>

            {% set hasAllPermissions = true %}
            {% for permission in permissions %}
              {% set permissionId = permissionIds[permission] %}
              <td>
                {% if hasEditPermission and configurablePermissions.tabPermissions[employeeProfileId][tab.id][permission] %}
                  <div class="md-checkbox md-checkbox-inline">
                    <label>
                      <input type="checkbox"
                             data-id="{{ permissionId }}"
                             data-parent="0"
                             data-type="{{ permission }}"
                             {% if profileTabPermissions[tab.id][permission] %}checked{% endif %}
                      />
                      <i class="md-checkbox-control"></i>
                    </label>
                  </div>
                {% else %}
                  {% set hasAllPermissions, enableBulkView = false, false %}

                  <div class="md-checkbox md-checkbox-inline">
                    <label>
                      <input type="checkbox"
                             disabled
                             {% if configurablePermissions.tabPermissions[tab.id][permission] %}checked{% endif %}
                      />
                      <i class="md-checkbox-control"></i>
                    </label>
                  </div>
                {% endif %}
              </td>
            {% endfor %}
          </tr>
        {% endfor %}
      {% endif %}
    </table>
  </div>
</div>
