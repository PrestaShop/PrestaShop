{#**
 * 2007-2018 PrestaShop
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to http://www.prestashop.com for more information.
 *
 * @author    PrestaShop SA <contact@prestashop.com>
 * @copyright 2007-2018 PrestaShop SA
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 * International Registered Trademark & Property of PrestaShop SA
 *#}

{% trans_default_domain 'Admin.Advparameters.Feature' %}

{{ form_start(search_form) }}
<table class="table">
    <thead class="thead-default">
        <tr class="column-headers">
            <th scope="col" width="10%">
                {{ ps.sortable_column_header('ID'|trans({}, 'Admin.Global'), 'id_request_sql', order_by, order_way) }}
            </th>
            <th scope="col">
                {{ ps.sortable_column_header('SQL query Name'|trans({}, 'Admin.Global'), 'name', order_by, order_way) }}
            </th>
            <th scope="col">
                {{ ps.sortable_column_header('SQL query'|trans, 'sql', order_by, order_way) }}
            </th>
            <th scope="col">&nbsp;</th>
        </tr>
        <tr class="column-filters">
            <th>{{ form_widget(search_form.id_request_sql) }}</th>
            <th>{{ form_widget(search_form.name) }}</th>
            <th>{{ form_widget(search_form.sql) }}</th>
            <th>
                <button type="submit" class="btn btn-primary">
                    <i class="material-icons">search</i>{{ 'Search'|trans({}, 'Admin.Action') }}
                </button>
            </th>
        </tr>
    </thead>
    <tbody>
        {% for request_sql in request_sqls %}
            <tr>
                <th scope="row">{{ request_sql.id_request_sql }}</th>
                <td>{{ request_sql.name }}</td>
                <td>{{ request_sql.sql }}</td>
                <td>
                    <div class="btn-group-action">
                        <div class="btn-group">
                            <a href="#" title="{{ 'Export'|trans({}, 'Admin.Global') }}" class="btn tooltip-link product-edit">
                                <i class="material-icons">cloud_download</i>
                            </a>
                            <a class="btn btn-link dropdown-toggle dropdown-toggle-split"
                               data-toggle="dropdown"
                               aria-haspopup="true"
                               aria-expanded="false"
                            >
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" x-placement="bottom-end" style="position: absolute; transform: translate3d(86px, 35px, 0px); top: 0px; left: 0px; will-change: transform;">
                                <a class="dropdown-item product-edit" href="http://localhost/PrestaShopMigration/SqlManager/home-accessories/19-customizable-mug.html" target="_blank">
                                    <i class="material-icons">remove_red_eye</i>
                                    {{ 'View'|trans({}, 'Admin.Global') }}
                                </a>
                                <a class="dropdown-item product-edit" href="#">
                                    <i class="material-icons">edit</i>
                                    {{ 'Edit'|trans({}, 'Admin.Global') }}
                                </a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item product-edit" href="#">
                                    <i class="material-icons">delete</i>
                                    {{ 'Delete'|trans({}, 'Admin.Global') }}
                                </a>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{{ form_end(search_form) }}

{% if request_sqls_count >= 10 %}
    <div class="row">
        <div class="col-md-12">
            {{ render(controller('PrestaShopBundle:Admin\\Common:pagination', {
                'limit': filters.limit,
                'offset': filters.offset,
                'total': request_sqls_count,
                'caller_route': app.request.attributes.get('_route')}))
            }}
        </div>
    </div>
{% endif %}
