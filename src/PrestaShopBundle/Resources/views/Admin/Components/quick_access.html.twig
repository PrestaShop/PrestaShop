{#**
 * Copyright since 2007 PrestaShop SA and Contributors
 * PrestaShop is an International Registered Trademark & Property of PrestaShop SA
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.md.
 * It is also available through the world-wide-web at this URL:
 * https://opensource.org/licenses/OSL-3.0
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@prestashop.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade PrestaShop to newer
 * versions in the future. If you wish to customize PrestaShop for your
 * needs please refer to https://devdocs.prestashop.com/ for more information.
 *
 * @author    PrestaShop SA and Contributors <contact@prestashop.com>
 * @copyright Since 2007 PrestaShop SA and Contributors
 * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)
 *#}
<div class="dropdown quick-accesses">
  <button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="quick_select">
    {{ 'Quick Access'|trans({}, 'Admin.Navigation.Header') }}
  </button>
  <div class="dropdown-menu">

    {% for qa in quick_access %}
      <a class="dropdown-item{% if matchQuickLink(qa.link) %} active{% set matchedQuickLink = qa.id_quick_access %}{% endif %}"
         href="{{ qa.link }}"
         {% if qa.new_window %}target="_blank"{% endif %}
         data-item="{{ qa.name }}"
         >{{ qa.name }}</a>
    {% endfor %}

    <div class="dropdown-divider"></div>
    {% if matchedQuickLink is defined %}
      <a
        class="dropdown-item js-quick-link"
        href="#"
        data-method="remove"
        data-quicklink-id="{{ matchedQuickLink  }}"
        data-rand="{{ random(1, 200) }}"
        data-icon="{{ quick_access_current_link_icon }}"
        data-url="{{ getQuickLink(app.request.server.get('REQUEST_URI')) }}"
        data-post-link="{{ getAdminLink('AdminQuickAccesses') }}"
        data-prompt-text="{{ 'Please name this shortcut:'|trans({}, 'Admin.Navigation.Header') }}"
        data-link="{{ quick_access_current_link_name|truncate(32) }}"
      >
        <i class="material-icons">remove_circle_outline</i>
        {{ 'Remove from Quick Access'|trans({}, 'Admin.Navigation.Header') }}
      </a>
    {% else %}
      <a
        class="dropdown-item js-quick-link"
        href="#"
        data-rand="{{ random(1, 200) }}"
        data-icon="{{ quick_access_current_link_icon }}"
        data-method="add"
        data-url="{{ getQuickLink(app.request.server.get('REQUEST_URI')) }}"
        data-post-link="{{ getAdminLink('AdminQuickAccesses') }}"
        data-prompt-text="{{ 'Please name this shortcut:'|trans({}, 'Admin.Navigation.Header') }}"
        data-link="{{ quick_access_current_link_name|truncate(32) }}"
      >
        <i class="material-icons">add_circle</i>
        {{ 'Add current page to Quick Access'|trans({}, 'Admin.Actions') }}
      </a>
    {% endif %}
    <a class="dropdown-item" href="{{ getAdminLink('AdminQuickAccesses')|json_encode|raw }}">
      <i class="material-icons">settings</i>
      {{ 'Manage your quick accesses'|trans({}, 'Admin.Navigation.Header') }}
    </a>
  </div>
</div>
