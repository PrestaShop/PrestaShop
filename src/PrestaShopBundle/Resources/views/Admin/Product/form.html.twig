{% extends 'PrestaShopBundle:Admin:layout.html.twig' %}

{% block content %}
    <div class="panel">
        <form name="form" id="form" method="post" class="form-horizontal" novalidate="novalidate">
            <div class="col-lg-12">
                <div id="form_bubbling_errors">
                    {{ form_errors(form) }}
                </div>
            </div>
            <ul class="nav nav-tabs" role="tablist">
                <li class="active"><a href="#step1" role="tab" data-toggle="tab">{{ trans('Your product') }}</a></li>
                <li><a href="#step2" role="tab" data-toggle="tab">{{ trans('Price') }}</a></li>
                <li><a href="#step3" role="tab" data-toggle="tab">{{ trans('Quantity') }}</a></li>
                <li><a href="#step4" role="tab" data-toggle="tab">{{ trans('Shipping') }}</a></li>
                <li><a href="#step5" role="tab" data-toggle="tab">{{ trans('SEO') }}</a></li>
                <li><a href="#step6" role="tab" data-toggle="tab">{{ trans('Options') }}</a></li>
            </ul>
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane panel panel-default active" id="step1">
                    <div class="col-lg-9">
                        {{ form_row(form.step1.type_product) }}
                        {{ form_row(form.step1.name) }}
                        {{ form_row(form.step1.description) }}
                        {{ form_row(form.step1.images) }}
                        {{ form_row(form.step1.upc) }}
                        {{ form_row(form.step1.ean13) }}
                        {{ form_row(form.step1.isbn) }}
                        {{ form_row(form.step1.reference) }}
                        {{ form_row(form.step1.condition) }}
                        <div class="form-group">
                            {{ form_label(form.step1.features) }}
                            <div class="col-sm-10">
                                {{ form_errors(form.step1.features) }}
                                <ul class="featureCollection" data-prototype="{{ form_widget(form.step1.features.vars.prototype)|e }}">
                                    {% for feature in form.step1.features %}
                                        <li>
                                            <a href="#" class="delete btn btn-primary btn-xs">-</a>
                                            {{ form_widget(feature) }}
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3">
                        <div class="panel">
                            {{ form_row(form.step1.active) }}
                            <hr/>
                            {{ form_row(form.step1.options) }}
                        </div>
                        <div class="panel">
                            <div class="panel-heading">{{ trans("Categories") }}</div>
                            <div class="panel-body">
                                {{ form_errors(form.step1.categories) }}
                                {{ form_widget(form.step1.categories) }}
                                <hr/>
                                <h4>{{ trans("Default category") }}</h4>
                                {{ form_errors(form.step1.id_category_default) }}
                                {{ form_widget(form.step1.id_category_default) }}
                                <hr/>
                                <h4>{{ trans("Add a new category") }}</h4>
                                {{ form_errors(form.step1.new_category) }}
                                {{ form_widget(form.step1.new_category.name) }}
                                {{ form_widget(form.step1.new_category.id_parent) }}
                                {{ form_widget(form.step1.new_category.save) }}
                            </div>
                        </div>
                        <div class="panel">
                            <div class="panel-heading">{{ trans("Manufacturer") }}</div>
                            <div class="panel-body">
                                {{ form_errors(form.step1.id_manufacturer) }}
                                {{ form_widget(form.step1.id_manufacturer) }}
                            </div>
                        </div>
                        <div class="panel">
                            <div class="panel-heading">{{ trans("Accessories") }} </div>
                            <div class="panel-body">
                                {{ form_errors(form.step1.related_products) }}
                                {{ form_widget(form.step1.related_products) }}
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="text-right">
                        <a class="btn btn-primary btn-next">{{ trans('CONTINUE') }}</a>
                        <input type="submit" id="submit" value="{{ trans('SAVE') }}" class="btn btn-warning" />
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane panel panel-default" id="step2">
                    {{ form_widget(form.step2) }}
                    <div class="text-right">
                        <a class="btn btn-primary btn-prev">{{ trans('PREVIOUS') }}</a>
                        <a class="btn btn-primary btn-next">{{ trans('CONTINUE') }}</a>
                        <input type="submit" value="{{ trans('SAVE') }}" class="btn btn-warning" />
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane panel panel-default" id="step3">
                    {{ form_widget(form.step3) }}
                    <div class="text-right">
                        <a class="btn btn-primary btn-prev">{{ trans('PREVIOUS') }}</a>
                        <a class="btn btn-primary btn-next">{{ trans('CONTINUE') }}</a>
                        <input type="submit" value="{{ trans('SAVE') }}" class="btn btn-warning" />
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane panel panel-default" id="step4">
                    {{ form_widget(form.step4) }}
                    <div class="text-right">
                        <a class="btn btn-primary btn-prev">{{ trans('PREVIOUS') }}</a>
                        <a class="btn btn-primary btn-next">{{ trans('CONTINUE') }}</a>
                        <input type="submit" id="submit" value="{{ trans('SAVE') }}" class="btn btn-warning" />
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane panel panel-default" id="step5">
                    {{ form_widget(form.step5) }}
                    <div class="text-right">
                        <a class="btn btn-primary btn-prev">{{ trans('PREVIOUS') }}</a>
                        <a class="btn btn-primary btn-next">{{ trans('CONTINUE') }}</a>
                        <input type="submit" id="submit" value="{{ trans('SAVE') }}" class="btn btn-warning" />
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane panel panel-default" id="step6">
                    {{ form_widget(form.step6) }}
                    <div class="text-right">
                        <a class="btn btn-primary btn-prev">{{ trans('PREVIOUS') }}</a>
                        <input type="submit" id="submit" value="{{ trans('SAVE') }}" class="btn btn-warning" />
                    </div>
                </div>
            </div>
            {{ form_widget(form.id_product) }}
            {{ form_widget(form._token) }}
        </form>
    </div>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets '../js/vendor/node_modules/dropzone/dist/min/dropzone.min.css' %}
    <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts '@PrestaShopBundle/Resources/public/admin/extra-js/product/form.js'
    '../js/tiny_mce/tiny_mce.js'
    '../js/admin/tinymce.product.inc.js'
    '../js/admin/tinymce_loader.js'
    '../js/vendor/node_modules/typeahead.js/dist/typeahead.jquery.min.js'
    '../js/vendor/node_modules/typeahead.js/dist/bloodhound.min.js'
    '../js/vendor/node_modules/dropzone/dist/min/dropzone.min.js'
    '../js/vendor/node_modules/sprintf-js/dist/sprintf.min.js'
    %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% set js_translatable = {
    "Form update success": trans("Form update success"),
    "Form update errors": trans("Form update errors"),
}|merge(js_translatable) %}
