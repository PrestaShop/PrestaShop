services:
    _defaults:
        public: true

    prestashop.core.sql_manager.exporter.sql_request_exporter:
        class: 'PrestaShop\PrestaShop\Core\SqlManager\Exporter\SqlRequestExporter'
        arguments:
            - '@prestashop.core.export.file_writer.export_csv_file_writer'

    prestashop.core.sql_manager.configuration.sql_request_configuration:
        class: 'PrestaShop\PrestaShop\Core\SqlManager\Configuration\SqlRequestConfiguration'
        arguments:
            - '@prestashop.core.command_bus'
            - '@prestashop.core.query_bus'

    prestashop.core.sql_manager.form.sql_request_form_data_provider:
        class: 'PrestaShop\PrestaShop\Core\SqlManager\Form\SqlRequestFormDataProvider'
        arguments:
            - '@prestashop.core.query_bus'
            - '@=service("request_stack").getMasterRequest()'

    prestashop.core.sql_manager.form.sql_request_form_data_handler:
        class: 'PrestaShop\PrestaShop\Core\SqlManager\Form\SqlRequestFormDataHandler'
        arguments:
            - '@prestashop.core.query_bus'
