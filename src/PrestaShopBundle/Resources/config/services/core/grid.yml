services:
    _defaults:
        public: true

    # Factories
    prestashop.core.grid.view_factory:
        class: 'PrestaShop\PrestaShop\Core\Grid\Factory\GridViewFactory'
        arguments:
            - '@form.factory'

    prestashop.core.grid.factory:
        class: 'PrestaShop\PrestaShop\Core\Grid\Factory\GridFactory'
        arguments:
            - '@prestashop.hook.dispatcher'
            - '@prestashop.core.grid.search.parameters_factory'

    # Search
    prestashop.core.grid.search.parameters_factory:
        class: 'PrestaShop\PrestaShop\Core\Grid\Search\SearchParametersFactory'

    # Grid data providers
    prestashop.core.grid.data_provider.log:
        class: 'PrestaShop\PrestaShop\Core\Grid\DataProvider\LogGridDataProvider'
        arguments:
            - '@prestashop.core.admin.log.repository'
            - '@prestashop.hook.dispatcher'

    # Grid definition factories
    prestashop.core.grid.definition.factory.abstract_grid_definition:
        class: 'PrestaShop\PrestaShop\Core\Grid\Definition\Factory\AbstractGridDefinitionFactory'
        abstract: true
        calls:
            - [setTranslator, ['@translator']]

    prestashop.core.grid.defintion.factory.log_definition:
        class: 'PrestaShop\PrestaShop\Core\Grid\Definition\Factory\LogGridDefinitionFactory'
        parent: 'prestashop.core.grid.definition.factory.abstract_grid_definition'
        public: true
