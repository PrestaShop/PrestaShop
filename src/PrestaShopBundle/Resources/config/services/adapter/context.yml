services:
    _defaults:
        public: true

    #SECURITY
    #@todo: is this service used?
    prestashop.adapter.security.admin:
        class: "%AdapterSecurityAdminClass%"
        arguments:
            - "@prestashop.adapter.legacy.context"
            - "@security.token_storage"
            - "@prestashop.security.admin.provider"
        tags:
            - { name: kernel.event_listener, event: kernel.request, method: onKernelRequest }

    prestashop.adapter.console.context_loader:
        class: PrestaShop\PrestaShop\Adapter\Console\ContextLoader
        arguments:
          - '@prestashop.adapter.legacy.context'
          - '@prestashop.adapter.shop.context'
