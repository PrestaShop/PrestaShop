services:
    _defaults:
        public: true

    prestashop.adapter.product.combination.command_handler.generate_product_combinations_handler:
        class: PrestaShop\PrestaShop\Adapter\Product\Combination\CommandHandler\GenerateProductCombinationsHandler
        arguments:
            - '@prestashop.adapter.product.create.combination_creator'
        tags:
            - name: tactician.handler
              command: PrestaShop\PrestaShop\Core\Domain\Product\Combination\Command\GenerateProductCombinationsCommand

    prestashop.adapter.product.command.update_combination_details_handler:
        class: PrestaShop\PrestaShop\Adapter\Product\Combination\CommandHandler\UpdateCombinationDetailsHandler
        arguments:
            - '@prestashop.adapter.product.repository.combination_repository'
        tags:
            - name: tactician.handler
              command: PrestaShop\PrestaShop\Core\Domain\Product\Combination\Command\UpdateCombinationDetailsCommand

    prestashop.adapter.product.combination.command_handler.update_combination_prices_handler:
        class: PrestaShop\PrestaShop\Adapter\Product\Combination\CommandHandler\UpdateCombinationPricesHandler
        arguments:
            - '@prestashop.adapter.product.repository.combination_repository'
        tags:
            - name: tactician.handler
              command: PrestaShop\PrestaShop\Core\Domain\Product\Combination\Command\UpdateCombinationPricesCommand

    prestashop.adapter.product.command.update_combination_stock_handler:
        class: PrestaShop\PrestaShop\Adapter\Product\Combination\CommandHandler\UpdateCombinationStockHandler
        arguments:
            - '@prestashop.adapter.product.repository.combination_repository'
            - '@prestashop.adapter.product.update.combination_stock_updater'
        tags:
            - name: tactician.handler
              command: PrestaShop\PrestaShop\Core\Domain\Product\Combination\Command\UpdateCombinationStockCommand

    prestashop.adapter.product.combination.query_handler.get_combination_for_editing_handler:
        class: PrestaShop\PrestaShop\Adapter\Product\Combination\QueryHandler\GetCombinationForEditingHandler
        arguments:
            - '@prestashop.adapter.product.repository.combination_repository'
            - '@prestashop.adapter.product.repository.stock_available_repository'
        tags:
            - name: tactician.handler
              command: PrestaShop\PrestaShop\Core\Domain\Product\Combination\Query\GetCombinationForEditing

    prestashop.adapter.product.combination.query_handler.get_editable_combinations_list_handler:
        class: PrestaShop\PrestaShop\Adapter\Product\Combination\QueryHandler\GetEditableCombinationsListHandler
        arguments:
            - '@prestashop.adapter.product.repository.combination_repository'
            - '@prestashop.adapter.product.repository.product_repository'
            - '@prestashop.core.util.number.number_extractor'
            - '@prestashop.adapter.product.repository.stock_available_repository'
        tags:
            - name: tactician.handler
              command: PrestaShop\PrestaShop\Core\Domain\Product\Combination\Query\GetEditableCombinationsList
