services:
    _defaults:
        public: true

    prestashop.adapter.admin.page_preference:
        class: PrestaShop\PrestaShop\Adapter\Admin\PagePreference
        arguments:
            - "@session"
        decorates: prestashop.core.admin.page_preference_interface
        public: false

    prestashop.adapter.admin.controller.category:
        class: PrestaShop\PrestaShop\Adapter\Category\AdminCategoryControllerWrapper

    prestashop.adapter.category.category_view_data_provider:
        class: PrestaShop\PrestaShop\Adapter\Category\CategoryViewDataProvider
        arguments:
            - '@prestashop.adapter.legacy.configuration'
            - '@prestashop.adapter.feature.multishop'
            - '@prestashop.adapter.shop.context'
            - "@=service('prestashop.adapter.legacy.context').getContext().language.id"
