services:
  _defaults:
    public: true

  prestashop.adapter.country.query_handler.get_country_required_fields:
    class: 'PrestaShop\PrestaShop\Adapter\Country\QueryHandler\GetCountryRequiredFieldsHandler'
    arguments:
      - '@prestashop.adapter.country.country_required_fields_provider'
    tags:
      - name: tactician.handler
        command: 'PrestaShop\PrestaShop\Core\Domain\Country\Query\GetCountryRequiredFields'

  prestashop.adapter.country.country_zip_code_requirements_provider:
    class: 'PrestaShop\PrestaShop\Adapter\Country\CountryZipCodeRequirementsProvider'
    arguments:
      - '@prestashop.adapter.legacy.context'
      - '@prestashop.core.domain.country.zip_code_format_resolver'

  prestashop.adapter.country.country_required_fields_provider:
    class: 'PrestaShop\PrestaShop\Adapter\Country\CountryRequiredFieldsProvider'
    arguments:
      - '@prestashop.adapter.data_provider.country'
  prestashop.adapter.country.command_handler.abstract_country_handler:
    abstract:  true
    class: 'PrestaShop\PrestaShop\Adapter\Country\AbstractCountryHandler'

  prestashop.adapter.country.command_handler.create_country_handler:
    public: true
    class: 'PrestaShop\PrestaShop\Adapter\Country\CommandHandler\AddCountryHandler'
    tags:
      - { name: 'tactician.handler', command: 'PrestaShop\PrestaShop\Core\Domain\Country\Command\AddCountryCommand' }

  prestashop.adapter.country.command_handler.edit_country_handler:
    public: true
    class: 'PrestaShop\PrestaShop\Adapter\Country\CommandHandler\EditCountryHandler'
    parent: 'prestashop.adapter.country.command_handler.abstract_country_handler'
    tags:
      - { name: 'tactician.handler', command: 'PrestaShop\PrestaShop\Core\Domain\Country\Command\EditCountryCommand' }

  prestashop.adapter.country.query_handler.get_address_layout:
    public: true
    class: 'PrestaShop\PrestaShop\Adapter\Country\QueryHandler\GetAddressFormatDataHandler'
    tags:
      - { name: 'tactician.handler', command: 'PrestaShop\PrestaShop\Core\Domain\Country\Query\GetAddressFormatData' }

  prestashop.adapter.country.query_handler.get_editable_country:
    public: true
    class: 'PrestaShop\PrestaShop\Adapter\Country\QueryHandler\GetCountryForEditingHandler'
    tags:
      - { name: 'tactician.handler', command: 'PrestaShop\PrestaShop\Core\Domain\Country\Query\GetCountryForEditing' }
