services:
  _defaults:
    public: true

  prestashop.core.bridge.smarty_bridge:
    class: PrestaShopBundle\Bridge\Smarty\SmartyBridge
    arguments:
      - "@prestashop.adapter.legacy.context"
      - "@prestashop.core.bridge.breadcrumbs_and_title_hydrator"
      - "@prestashop.core.bridge.footer_hydrator"
      - "@prestashop.core.bridge.header_hydrator"
      - "@prestashop.core.bridge.modal_hydrator"
      - "@prestashop.core.bridge.notification_hydrator"
      - "@prestashop.core.bridge.toolbar_flags_hydrator"
      - "@prestashop.core.bridge.smarty_vars_assigner"

  prestashop.core.bridge.controller_configuration_factory:
    class: PrestaShopBundle\Bridge\Controller\ControllerConfigurationFactory
    arguments:
      - "@security.untracked_token_storage"

  prestashop.core.bridge.breadcrumbs_and_title_hydrator:
    class: PrestaShopBundle\Bridge\Smarty\BreadcrumbsAndTitleHydrator
    arguments:
      - "@prestashop.adapter.legacy.context"

  prestashop.core.bridge.footer_hydrator:
    class: PrestaShopBundle\Bridge\Smarty\FooterHydrator
    arguments:
      - "@prestashop.adapter.legacy.context"

  prestashop.core.bridge.header_hydrator:
    class: PrestaShopBundle\Bridge\Smarty\HeaderHydrator
    arguments:
      - "@prestashop.router"
      - "@translator"
      - "@prestashop.adapter.legacy.context"

  prestashop.core.bridge.modal_hydrator:
    class: PrestaShopBundle\Bridge\Smarty\ModalHydrator

  prestashop.core.bridge.notification_hydrator:
    class: PrestaShopBundle\Bridge\Smarty\NotificationsHydrator

  prestashop.core.bridge.toolbar_flags_hydrator:
    class: PrestaShopBundle\Bridge\Smarty\ToolbarFlagsHydrator
    arguments:
      - "@prestashop.router"
      - "@translator"

  prestashop.core.bridge.smarty_vars_assigner:
    class: PrestaShopBundle\Bridge\Smarty\SmartyVarsAssigner
    arguments:
      - "@prestashop.adapter.legacy.context"

  prestashop.core.bridge.helper_list_bridge:
    class: PrestaShopBundle\Bridge\Helper\HelperListBridge
    arguments:
      - "@prestashop.adapter.legacy.context"
      - "@security.untracked_token_storage"
      - "@prestashop.core.bridge.helper_list_vars_assigner"

  prestashop.core.bridge.helper_list_configuration_factory:
    class: PrestaShopBundle\Bridge\Helper\HelperListConfigurationFactory

  prestashop.core.bridge.helper_list_vars_assigner:
    class: PrestaShopBundle\Bridge\Helper\HelperListVarsAssigner
    arguments:
      - "@prestashop.core.bridge.breadcrumbs_and_title_hydrator"
      - "@prestashop.core.bridge.toolbar_flags_hydrator"
      - "@prestashop.router"

  PrestaShopBundle\Bridge\Listener\InitControllerListener:
    class: PrestaShopBundle\Bridge\Listener\InitControllerListener
    tags:
      - { name: kernel.event_listener, event: kernel.controller }
    arguments:
      - "@prestashop.adapter.legacy.context"
      - "@prestashop.core.bridge.controller_configuration_factory"




