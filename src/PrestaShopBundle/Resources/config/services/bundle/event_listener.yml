services:
  _defaults:
    public: false
    autowire: true
    autoconfigure: true
    bind:
      $modulesDir: '%modules_dir%'
      $projectDir: '%kernel.project_dir%'

  PrestaShopBundle\EventListener\:
    resource: "../../../../EventListener/*"

  PrestaShopBundle\EventListener\MultishopCommandListener:
    arguments:
      $context: '@prestashop.adapter.shop.context'

  PrestaShopBundle\EventListener\ShopConstraintListener:
    arguments:
      $context: '@prestashop.adapter.shop.context'

  PrestaShopBundle\EventListener\FilterCategorySearchCriteriaListener:
    arguments:
      $categorySearchCriteriaFactory: '@prestashop.adapter.grid.search.factory.search_criteria_with_category_parent_id'

  PrestaShopBundle\EventListener\ModuleGuardListener:
    arguments:
      $vendorFolderGuard: '@prestashop.core.security.folder_guard.vendor'

  PrestaShopBundle\Form\Admin\Configure\AdvancedParameters\FeatureFlag\EventListener\FeatureFlagTypeListener:
    tags:
      - { name: core.legacy.hook.subscriber }

  prestashop.user_locale.listener:
    alias: PrestaShopBundle\EventListener\UserLocaleListener
    deprecated: ~
    public: true

  prestashop.dispatcher.legacy_hooks.subscriber:
    alias: 'PrestaShopBundle\EventListener\ActionDispatcherLegacyHooksSubscriber'
    deprecated: ~
    public: true

  prestashop.tokenized_url_listener:
    alias: PrestaShopBundle\EventListener\TokenizedUrlsListener
    deprecated: ~
    public: true

  # Priority 40 to be called before the RouterListener
  prestashop.legacy_url_listener:
    alias: PrestaShopBundle\EventListener\LegacyUrlListener
    deprecated: ~
    public: true

  # Priority 30 to be called after the RouterListener
  prestashop.legacy_parameters_listener:
    alias: PrestaShopBundle\EventListener\LegacyParametersListener
    deprecated: ~
    public: true

  prestashop.multishop_command_listener:
    alias: PrestaShopBundle\EventListener\MultishopCommandListener
    deprecated: ~
    public: true

  prestashop.access_denied.listener:
    alias: PrestaShopBundle\EventListener\AccessDeniedListener
    deprecated: ~
    public: true

  prestashop.demo_mode_enabled.listener:
    alias: PrestaShopBundle\EventListener\DemoModeEnabledListener
    deprecated: ~
    public: true

  prestashop.module_activated.listener:
    alias: PrestaShopBundle\EventListener\ModuleActivatedListener
    deprecated: ~
    public: true

  prestashop.bundle.event_listener.filter_category_search_criteria:
    alias: PrestaShopBundle\EventListener\FilterCategorySearchCriteriaListener
    deprecated: ~
    public: true

  prestashop.bundle.event_listener.filter_cms_page_category_search_criteria:
    alias: PrestaShopBundle\EventListener\FilterCmsPageCategorySearchCriteriaListener
    deprecated: ~
    public: true

  prestashop.bundle.event_listener.back_url_redirect_response_listener:
    alias: PrestaShopBundle\EventListener\BackUrlRedirectResponseListener
    deprecated: ~
    public: true

  prestashop.bundle.event_listener.module_guard_listener:
    alias: PrestaShopBundle\EventListener\ModuleGuardListener
    deprecated: ~
    public: true
