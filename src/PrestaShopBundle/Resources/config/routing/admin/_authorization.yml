_admin_login:
    path: /
    methods: [GET,POST]
    # This condition is needed to prevent triggering the login route when
    # visiting legacy URLs, because all legacy URls start with /index.php
    condition: 'not (request.getBaseUrl() matches "/\\/index\.php/" and request.query.has("controller"))'
    defaults:
        _controller: PrestaShopBundle:Admin\Authorization:login
        _legacy_controller: AdminLogin:submitLogin
        _legacy_link: AdminLogin

_admin_forgot_password:
    path: /forgot
    methods: [GET,POST]
    defaults:
        _controller: PrestaShopBundle:Admin\Authorization:forgotPassword
        _legacy_controller: AdminLogin:submitForgot
        _legacy_link: AdminLogin:submitForgot

_admin_reset_password:
    path: /reset/{employeeId}/{resetToken}
    methods: [GET,POST]
    defaults:
        _controller: PrestaShopBundle:Admin\Authorization:resetPassword
        _legacy_controller: AdminLogin:submitReset
        _legacy_link: AdminLogin:submitReset
        _legacy_parameters:
            employeeId: id_employee
            resetToken: reset_token
    requirements:
        employeeId: \d+

admin_logout:
    path: /logout
    defaults:
        _legacy_link: AdminLogin:logout
