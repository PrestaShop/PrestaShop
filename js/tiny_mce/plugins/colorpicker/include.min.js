var Submit=document.getElementById("submit");var Submit2=document.getElementById("submit2");var Cancel=document.getElementById("cancel");var iHex=document.getElementById("hex");var iR=document.getElementById("rgb_r");var iG=document.getElementById("rgb_g");var iB=document.getElementById("rgb_b");var iH=document.getElementById("hsv_h");var iS=document.getElementById("hsv_s");var iV=document.getElementById("hsv_v");var cp=ColorPicker(document.getElementById("slide"),document.getElementById("picker"),function(e,t,n,r,i){currentColor=e;ColorPicker.positionIndicators(document.getElementById("slide-indicator"),document.getElementById("picker-indicator"),i,r);color.style.backgroundColor=e;iHex.value=e;iR.value=n.r;iG.value=n.g;iB.value=n.b;iH.value=t.h.toFixed(2);iS.value=t.s.toFixed(2);iV.value=t.v.toFixed(2)});cp.setHex("#ffffff");iHex.onchange=function(){cp.setHex(iHex.value)};iR.onchange=function(){cp.setHex(ColorPicker.rgb2hex({r:iR.value,g:iG.value,b:iB.value}))};iG.onchange=function(){cp.setHex(ColorPicker.rgb2hex({r:iR.value,g:iG.value,b:iB.value}))};iB.onchange=function(){cp.setHex(ColorPicker.rgb2hex({r:iR.value,g:iG.value,b:iB.value}))};iH.onchange=function(){cp.setHex(ColorPicker.hsv2hex({h:iH.value,s:iS.value,v:iV.value}))};iS.onchange=function(){cp.setHex(ColorPicker.hsv2hex({h:iH.value,s:iS.value,v:iV.value}))};iV.onchange=function(){cp.setHex(ColorPicker.hsv2hex({h:iH.value,s:iS.value,v:iV.value}))};function setColor(element){var hex = element.style.backgroundColor;var arr = hex.split(",");var r = arr[0].substring(4),g = arr[1],b = arr[2].substring(0,arr[2].length-1);if (hex.indexOf('rgb') == 0){hex = ColorPicker.rgb2hex({r:arr[0].substring(4),g:arr[1],b:arr[2].substring(0,arr[2].length-1)});}cp.setHex(hex);}Submit.onclick=function(){parent.tinymce.activeEditor.execCommand("ForeColor",false,iHex.value);parent.tinymce.activeEditor.windowManager.close()};Submit2.onclick=function(){parent.tinymce.activeEditor.execCommand("HiliteColor",false,iHex.value);parent.tinymce.activeEditor.windowManager.close()};Cancel.onclick=function(){parent.tinymce.activeEditor.windowManager.close()}