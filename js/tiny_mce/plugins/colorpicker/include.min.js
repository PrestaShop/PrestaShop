function setColor(e){var t=e.style.backgroundColor;var n=t.split(",");var r=n[0].substring(4),i=n[1],s=n[2].substring(0,n[2].length-1);if(t.indexOf("rgb")==0){t=ColorPicker.rgb2hex({r:n[0].substring(4),g:n[1],b:n[2].substring(0,n[2].length-1)})}cp.setHex(t)}var Submit=document.getElementById("submit");var Submit2=document.getElementById("submit2");var Cancel=document.getElementById("cancel");var iHex=document.getElementById("hex");var iR=document.getElementById("rgb_r");var iG=document.getElementById("rgb_g");var iB=document.getElementById("rgb_b");var iH=0;var iS=0;var iV=1;var cp=ColorPicker(document.getElementById("slide"),document.getElementById("picker"),function(e,t,n,r,i){currentColor=e;ColorPicker.positionIndicators(document.getElementById("slide-indicator"),document.getElementById("picker-indicator"),i,r);color.style.backgroundColor=e;iHex.value=e;iR.value=n.r;iG.value=n.g;iB.value=n.b;iH.value=0;iS.value=0;iV.value=1});cp.setHex("#ffffff");iHex.onchange=function(){cp.setHex(iHex.value)};iR.onchange=function(){cp.setHex(ColorPicker.rgb2hex({r:iR.value,g:iG.value,b:iB.value}))};iG.onchange=function(){cp.setHex(ColorPicker.rgb2hex({r:iR.value,g:iG.value,b:iB.value}))};iB.onchange=function(){cp.setHex(ColorPicker.rgb2hex({r:iR.value,g:iG.value,b:iB.value}))};Submit.onclick=function(){parent.tinymce.activeEditor.execCommand("ForeColor",false,iHex.value);parent.tinymce.activeEditor.windowManager.close()};Submit2.onclick=function(){parent.tinymce.activeEditor.execCommand("HiliteColor",false,iHex.value);parent.tinymce.activeEditor.windowManager.close()};Cancel.onclick=function(){parent.tinymce.activeEditor.windowManager.close()}