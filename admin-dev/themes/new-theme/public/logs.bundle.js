/*! For license information please see logs.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={4110:(t,n)=>{var o=window.$;n.Z=function(t,n){o.post(t).then((function(){return window.location.assign(n)}))}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var e={};(()=>{o.r(e);const t=".js-grid-action-submit-btn",n=".js-common_show_query-grid-action",r=".js-common_export_sql_manager-grid-action",i=function(t){return"#"+t+"_common_show_query_modal_form"},a=function(t){return"#"+t+"_grid_common_show_query_modal"},c=function(t){return'input[name="'+t+'[_token]"]'},d=".grid-search-button";var u=window.$;const s=function(){function t(t){this.id=t,this.$container=u(function(t){return"#"+t+"_grid"}(this.id))}return t.prototype.getId=function(){return this.id},t.prototype.getContainer=function(){return this.$container},t.prototype.getHeaderContainer=function(){return this.$container.closest(".js-grid-panel").find(".js-grid-header")},t.prototype.addExtension=function(t){t.extend(this)},t}(),f=function(){function t(){}return t.prototype.extend=function(t){t.getHeaderContainer().on("click",".js-common_refresh_list-grid-action",(function(){window.location.reload()}))},t}();var l=window.$;const p=function(){function t(){}return t.prototype.extend=function(t){var o=this;t.getHeaderContainer().on("click",n,(function(){return o.onShowSqlQueryClick(t)})),t.getHeaderContainer().on("click",r,(function(){return o.onExportSqlManagerClick(t)}))},t.prototype.onShowSqlQueryClick=function(t){var n=l(i(t.getId()));this.fillExportForm(n,t);var o=l(a(t.getId()));o.modal("show"),o.on("click",".btn-sql-submit",(function(){return n.submit()}))},t.prototype.onExportSqlManagerClick=function(t){var n=l(i(t.getId()));this.fillExportForm(n,t),n.submit()},t.prototype.fillExportForm=function(t,n){var o=n.getContainer().find(".js-grid-table").data("query");t.find('textarea[name="sql"]').val(o),t.find('input[name="name"]').val(this.getNameFromBreadcrumb())},t.prototype.getNameFromBreadcrumb=function(){var t=l(".header-toolbar").find(".breadcrumb-item"),n="";return t.each((function(t,o){var e=l(o),r=e.find("a").length>0?e.find("a").text():e.text();n.length>0&&(n=n.concat(" > ")),n=n.concat(r)})),n},t}();var m=o(4110),g=window.$;const h=function(){function t(){}return t.prototype.extend=function(t){t.getContainer().on("click",".js-reset-search",(function(t){(0,m.Z)(g(t.currentTarget).data("url"),g(t.currentTarget).data("redirect"))}))},t}();var w=window.$;const y=function(){function t(t){this.selector=".ps-sortable-column",this.columns=w(t).find(this.selector)}return t.prototype.attach=function(){var t=this;this.columns.on("click",(function(n){var o=w(n.delegateTarget);t.sortByColumn(o,t.getToggledSortDirection(o))}))},t.prototype.sortBy=function(t,n){if(!this.columns.is('[data-sort-col-name="'+t+'"]'))throw new Error('Cannot sort by "'+t+'": invalid column');this.sortByColumn(this.columns,n)},t.prototype.sortByColumn=function(t,n){window.location.href=this.getUrl(t.data("sortColName"),"desc"===n?"desc":"asc",t.data("sortPrefix"))},t.prototype.getToggledSortDirection=function(t){return"asc"===t.data("sortDirection")?"desc":"asc"},t.prototype.getUrl=function(t,n,o){var e=new URL(window.location.href),r=e.searchParams;return o?(r.set(o+"[orderBy]",t),r.set(o+"[sortOrder]",n)):(r.set("orderBy",t),r.set("sortOrder",n)),e.toString()},t}(),v=function(){function t(){}return t.prototype.extend=function(t){var n=t.getContainer().find("table.table");new y(n).attach()},t}();var b=window.$;const x=function(){function n(){}return n.prototype.extend=function(n){var o=this;n.getHeaderContainer().on("click",t,(function(t){o.handleSubmit(t,n)}))},n.prototype.handleSubmit=function(t,n){var o=b(t.currentTarget),e=o.data("confirm-message");if(!(void 0!==e&&e.length>0)||window.confirm(e)){var r=b("#"+n.getId()+"_filter_form");r.attr("action",o.data("url")),r.attr("method",o.data("method")),r.find(c(n.getId())).val(o.data("csrf")),r.submit()}},n}(),_=function(){function t(){}return t.prototype.extend=function(t){var n=t.getContainer().find(".column-filters");n.find(d).prop("disabled",!0),n.find("input:not(.js-bulk-action-select-all), select").on("input dp.change",(function(){n.find(d).prop("disabled",!1),n.find(".grid-reset-button").prop("hidden",!1)}))},t}();(0,window.$)((function(){var t=new s("logs");t.addExtension(new f),t.addExtension(new p),t.addExtension(new h),t.addExtension(new v),t.addExtension(new x),t.addExtension(new _)}))})(),window.logs=e,(0,window.$)((function(){window.prestashop.component.initComponents(["MultistoreConfigField"])})),window.shop_preferences={}})(); 
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9qcy9hcHAvdXRpbHMvcmVzZXRfc2VhcmNoLmpzIiwid2VicGFjazovL1tuYW1lXS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9bbmFtZV0vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9bbmFtZV0vLi9qcy9jb21wb25lbnRzL2dyaWQvZ3JpZC1tYXAudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vanMvY29tcG9uZW50cy9ncmlkL2dyaWQudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9yZWxvYWQtbGlzdC1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9leHBvcnQtdG8tc3FsLW1hbmFnZXItZXh0ZW5zaW9uLnRzIiwid2VicGFjazovL1tuYW1lXS8uL2pzL2NvbXBvbmVudHMvZ3JpZC9leHRlbnNpb24vZmlsdGVycy1yZXNldC1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vanMvYXBwL3V0aWxzL3RhYmxlLXNvcnRpbmcudHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9zb3J0aW5nLWV4dGVuc2lvbi50cyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9qcy9jb21wb25lbnRzL2dyaWQvZXh0ZW5zaW9uL3N1Ym1pdC1ncmlkLWFjdGlvbi1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vanMvY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9maWx0ZXJzLXN1Ym1pdC1idXR0b24tZW5hYmxlci1leHRlbnNpb24udHMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vanMvcGFnZXMvbG9ncy9pbmRleC50cyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwidXJsIiwicmVkaXJlY3RVcmwiLCJwb3N0IiwidGhlbiIsImxvY2F0aW9uIiwiYXNzaWduIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiaWQiLCJHcmlkIiwidGhpcyIsIiRjb250YWluZXIiLCJwcm90b3R5cGUiLCJnZXRJZCIsImdldENvbnRhaW5lciIsImdldEhlYWRlckNvbnRhaW5lciIsImNsb3Nlc3QiLCJmaW5kIiwiYWRkRXh0ZW5zaW9uIiwiZXh0ZW5zaW9uIiwiZXh0ZW5kIiwiUmVsb2FkTGlzdEV4dGVuc2lvbiIsImdyaWQiLCJvbiIsInJlbG9hZCIsIkV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbiIsIl90aGlzIiwib25TaG93U3FsUXVlcnlDbGljayIsIm9uRXhwb3J0U3FsTWFuYWdlckNsaWNrIiwiJHNxbE1hbmFnZXJGb3JtIiwiZmlsbEV4cG9ydEZvcm0iLCIkbW9kYWwiLCJtb2RhbCIsInN1Ym1pdCIsInF1ZXJ5IiwiZGF0YSIsInZhbCIsImdldE5hbWVGcm9tQnJlYWRjcnVtYiIsIiRicmVhZGNydW1icyIsIm5hbWUiLCJlYWNoIiwiaSIsIml0ZW0iLCIkYnJlYWRjcnVtYiIsImJyZWFkY3J1bWJUaXRsZSIsImxlbmd0aCIsInRleHQiLCJjb25jYXQiLCJGaWx0ZXJzUmVzZXRFeHRlbnNpb24iLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJUYWJsZVNvcnRpbmciLCJ0YWJsZSIsInNlbGVjdG9yIiwiY29sdW1ucyIsImF0dGFjaCIsImUiLCIkY29sdW1uIiwiZGVsZWdhdGVUYXJnZXQiLCJzb3J0QnlDb2x1bW4iLCJnZXRUb2dnbGVkU29ydERpcmVjdGlvbiIsInNvcnRCeSIsImNvbHVtbk5hbWUiLCJkaXJlY3Rpb24iLCJpcyIsIkVycm9yIiwiY29sdW1uIiwiaHJlZiIsImdldFVybCIsImNvbE5hbWUiLCJwcmVmaXgiLCJVUkwiLCJwYXJhbXMiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJ0b1N0cmluZyIsIlNvcnRpbmdFeHRlbnNpb24iLCIkc29ydGFibGVUYWJsZSIsIlN1Ym1pdEdyaWRBY3Rpb25FeHRlbnNpb24iLCJoYW5kbGVTdWJtaXQiLCIkc3VibWl0QnRuIiwiY29uZmlybU1lc3NhZ2UiLCJjb25maXJtIiwiJGZvcm0iLCJhdHRyIiwiRmlsdGVyc1N1Ym1pdEJ1dHRvbkVuYWJsZXJFeHRlbnNpb24iLCIkZmlsdGVyc1JvdyIsInByb3AiXSwibWFwcGluZ3MiOiI7MkNBNkJPQSxFQUFLQyxPQUFMRCxFLElBRU0sU0FBcUJFLEVBQUtDLEdBQ3JDSCxFQUFFSSxLQUFLRixHQUFLRyxNQUFLLGtCQUFNSixPQUFPSyxTQUFTQyxPQUFPSixTQy9CNUNLLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLElBT1YsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxRQ3BCZkosRUFBb0JPLEVBQUtILElBQ0gsb0JBQVhJLFFBQTBCQSxPQUFPQyxhQUMxQ0MsT0FBT0MsZUFBZVAsRUFBU0ksT0FBT0MsWUFBYSxDQUFFRyxNQUFPLFdBRTdERixPQUFPQyxlQUFlUCxFQUFTLGFBQWMsQ0FBRVEsT0FBTyxLLHNCQ21CdkQsUUFtQjBCLDZCQW5CMUIsRUE2Qm1CLG9DQTdCbkIsRUE4QnFCLDRDQTlCckIsRUErQnVCLFNBQVVDLEdBQU0sTUFBTyxJQUFNQSxFQUFLLGlDQS9CekQsRUFnQ3VCLFNBQVVBLEdBQU0sTUFBTyxJQUFNQSxFQUFLLGlDQWhDekQsRUFvQ29CLFNBQVVBLEdBQU0sTUFBTyxlQUFrQkEsRUFBSyxjQXBDbEUsRUEyRHNCLHNCQzFEdEIsSUFBSXRCLEVBQUlDLE9BQU9ELEVBZ0RmLFFBNUMwQixXQU10QixTQUFTdUIsRUFBS0QsR0FDVkUsS0FBS0YsR0FBS0EsRUFDVkUsS0FBS0MsV0FBYXpCLEVEOEJoQixTQUFVc0IsR0FBTSxNQUFPLElBQU1BLEVBQUssUUM5QmhCLENBQWFFLEtBQUtGLEtBa0MxQyxPQTNCQUMsRUFBS0csVUFBVUMsTUFBUSxXQUNuQixPQUFPSCxLQUFLRixJQU9oQkMsRUFBS0csVUFBVUUsYUFBZSxXQUMxQixPQUFPSixLQUFLQyxZQU9oQkYsRUFBS0csVUFBVUcsbUJBQXFCLFdBQ2hDLE9BQU9MLEtBQUtDLFdBQVdLLFFET2hCLGtCQ1AyQ0MsS0RRMUMsb0JDRFpSLEVBQUtHLFVBQVVNLGFBQWUsU0FBVUMsR0FDcENBLEVBQVVDLE9BQU9WLE9BRWRELEVBMUNjLEdDZ0J6QixFQWpCeUMsV0FDckMsU0FBU1ksS0FjVCxPQVBBQSxFQUFvQlQsVUFBVVEsT0FBUyxTQUFVRSxHQUM3Q0EsRUFDS1AscUJBQ0FRLEdBQUcsUUZtRGEsdUNFbkQ2QixXQUM5Q3BDLE9BQU9LLFNBQVNnQyxhQUdqQkgsRUFmNkIsR0NIeEMsSUFBSSxFQUFJbEMsT0FBT0QsRUF5RmYsUUFyRmlELFdBQzdDLFNBQVN1QyxLQWtGVCxPQTNFQUEsRUFBNEJiLFVBQVVRLE9BQVMsU0FBVUUsR0FDckQsSUFBSUksRUFBUWhCLEtBQ1pZLEVBQ0tQLHFCQUNBUSxHQUFHLFFBQVMsR0FBMkIsV0FBYyxPQUFPRyxFQUFNQyxvQkFBb0JMLE1BQzNGQSxFQUNLUCxxQkFDQVEsR0FBRyxRQUFTLEdBQTZCLFdBQWMsT0FBT0csRUFBTUUsd0JBQXdCTixPQVNyR0csRUFBNEJiLFVBQVVlLG9CQUFzQixTQUFVTCxHQUNsRSxJQUFJTyxFQUFrQixFQUFFLEVBQThCUCxFQUFLVCxVQUMzREgsS0FBS29CLGVBQWVELEVBQWlCUCxHQUNyQyxJQUFJUyxFQUFTLEVBQUUsRUFBOEJULEVBQUtULFVBQ2xEa0IsRUFBT0MsTUFBTSxRQUNiRCxFQUFPUixHQUFHLFFIbUNILG1CR25DK0IsV0FBYyxPQUFPTSxFQUFnQkksYUFTL0VSLEVBQTRCYixVQUFVZ0Isd0JBQTBCLFNBQVVOLEdBQ3RFLElBQUlPLEVBQWtCLEVBQUUsRUFBOEJQLEVBQUtULFVBQzNESCxLQUFLb0IsZUFBZUQsRUFBaUJQLEdBQ3JDTyxFQUFnQkksVUFVcEJSLEVBQTRCYixVQUFVa0IsZUFBaUIsU0FBVUQsRUFBaUJQLEdBQzlFLElBQUlZLEVBQVFaLEVBQ1BSLGVBQ0FHLEtIbkJFLGtCR29CRmtCLEtBQUssU0FDVk4sRUFBZ0JaLEtBQUssd0JBQXdCbUIsSUFBSUYsR0FDakRMLEVBQ0taLEtBQUssc0JBQ0xtQixJQUFJMUIsS0FBSzJCLDBCQVNsQlosRUFBNEJiLFVBQVV5QixzQkFBd0IsV0FDMUQsSUFBSUMsRUFBZSxFSHJCUixtQkdxQmlDckIsS0hwQmhDLG9CR3FCUnNCLEVBQU8sR0FXWCxPQVZBRCxFQUFhRSxNQUFLLFNBQVVDLEVBQUdDLEdBQzNCLElBQUlDLEVBQWMsRUFBRUQsR0FDaEJFLEVBQWtCRCxFQUFZMUIsS0FBSyxLQUFLNEIsT0FBUyxFQUMvQ0YsRUFBWTFCLEtBQUssS0FBSzZCLE9BQ3RCSCxFQUFZRyxPQUNkUCxFQUFLTSxPQUFTLElBQ2ROLEVBQU9BLEVBQUtRLE9BQU8sUUFFdkJSLEVBQU9BLEVBQUtRLE9BQU9ILE1BRWhCTCxHQUVKZCxFQW5GcUMsRyxjQ0g1QyxFQUFJdEMsT0FBT0QsRUFtQmYsUUFmMkMsV0FDdkMsU0FBUzhELEtBWVQsT0FMQUEsRUFBc0JwQyxVQUFVUSxPQUFTLFNBQVVFLEdBQy9DQSxFQUFLUixlQUFlUyxHQUFHLFFKd0NkLG9CSXhDNEMsU0FBVTBCLElBQzNELE9BQVksRUFBRUEsRUFBTUMsZUFBZWYsS0FBSyxPQUFRLEVBQUVjLEVBQU1DLGVBQWVmLEtBQUssaUJBRzdFYSxFQWIrQixHQ04xQyxJQUFJLEVBQUk3RCxPQUFPRCxFQTRFZixRQXZFa0MsV0FJOUIsU0FBU2lFLEVBQWFDLEdBQ2xCMUMsS0FBSzJDLFNBQVcsc0JBQ2hCM0MsS0FBSzRDLFFBQVUsRUFBRUYsR0FBT25DLEtBQUtQLEtBQUsyQyxVQStEdEMsT0ExREFGLEVBQWF2QyxVQUFVMkMsT0FBUyxXQUM1QixJQUFJN0IsRUFBUWhCLEtBQ1pBLEtBQUs0QyxRQUFRL0IsR0FBRyxTQUFTLFNBQVVpQyxHQUMvQixJQUFJQyxFQUFVLEVBQUVELEVBQUVFLGdCQUNsQmhDLEVBQU1pQyxhQUFhRixFQUFTL0IsRUFBTWtDLHdCQUF3QkgsUUFRbEVOLEVBQWF2QyxVQUFVaUQsT0FBUyxTQUFVQyxFQUFZQyxHQUVsRCxJQURjckQsS0FBSzRDLFFBQVFVLEdBQUcsd0JBQTJCRixFQUFhLE1BRWxFLE1BQU0sSUFBSUcsTUFBTSxtQkFBc0JILEVBQWEscUJBRXZEcEQsS0FBS2lELGFBQWFqRCxLQUFLNEMsUUFBU1MsSUFRcENaLEVBQWF2QyxVQUFVK0MsYUFBZSxTQUFVTyxFQUFRSCxHQUNwRDVFLE9BQU9LLFNBQVMyRSxLQUFPekQsS0FBSzBELE9BQU9GLEVBQU8vQixLQUFLLGVBQThCLFNBQWQ0QixFQUF1QixPQUFTLE1BQU9HLEVBQU8vQixLQUFLLGdCQVF0SGdCLEVBQWF2QyxVQUFVZ0Qsd0JBQTBCLFNBQVVNLEdBQ3ZELE1BQXdDLFFBQWpDQSxFQUFPL0IsS0FBSyxpQkFBNkIsT0FBUyxPQVU3RGdCLEVBQWF2QyxVQUFVd0QsT0FBUyxTQUFVQyxFQUFTTixFQUFXTyxHQUMxRCxJQUFJbEYsRUFBTSxJQUFJbUYsSUFBSXBGLE9BQU9LLFNBQVMyRSxNQUM5QkssRUFBU3BGLEVBQUlxRixhQVNqQixPQVJJSCxHQUNBRSxFQUFPRSxJQUFJSixFQUFTLFlBQWFELEdBQ2pDRyxFQUFPRSxJQUFJSixFQUFTLGNBQWVQLEtBR25DUyxFQUFPRSxJQUFJLFVBQVdMLEdBQ3RCRyxFQUFPRSxJQUFJLFlBQWFYLElBRXJCM0UsRUFBSXVGLFlBRVJ4QixFQXJFc0IsR0NjakMsRUFkc0MsV0FDbEMsU0FBU3lCLEtBV1QsT0FKQUEsRUFBaUJoRSxVQUFVUSxPQUFTLFNBQVVFLEdBQzFDLElBQUl1RCxFQUFpQnZELEVBQUtSLGVBQWVHLEtOc0N0QyxlTXJDSCxJQUFJLEVBQWE0RCxHQUFnQnRCLFVBRTlCcUIsRUFaMEIsR0M1QnJDLElBQUksRUFBSXpGLE9BQU9ELEVBMENmLFFBdEMrQyxXQUMzQyxTQUFTNEYsS0FtQ1QsT0FqQ0FBLEVBQTBCbEUsVUFBVVEsT0FBUyxTQUFVRSxHQUNuRCxJQUFJSSxFQUFRaEIsS0FDWlksRUFDS1AscUJBQ0FRLEdBQUcsUUFBUyxHQUFnQyxTQUFVMEIsR0FDdkR2QixFQUFNcUQsYUFBYTlCLEVBQU8zQixPQVlsQ3dELEVBQTBCbEUsVUFBVW1FLGFBQWUsU0FBVTlCLEVBQU8zQixHQUNoRSxJQUFJMEQsRUFBYSxFQUFFL0IsRUFBTUMsZUFDckIrQixFQUFpQkQsRUFBVzdDLEtBQUssbUJBQ3JDLFVBQThCLElBQW5COEMsR0FDSkEsRUFBZXBDLE9BQVMsSUFDdkIxRCxPQUFPK0YsUUFBUUQsR0FGdkIsQ0FLQSxJQUFJRSxFQUFRLEVQMERtQixJTzFERTdELEVBQUtULFFQMERJLGdCT3pEMUNzRSxFQUFNQyxLQUFLLFNBQVVKLEVBQVc3QyxLQUFLLFFBQ3JDZ0QsRUFBTUMsS0FBSyxTQUFVSixFQUFXN0MsS0FBSyxXQUNyQ2dELEVBQ0tsRSxLQUFLLEVBQTJCSyxFQUFLVCxVQUNyQ3VCLElBQUk0QyxFQUFXN0MsS0FBSyxTQUN6QmdELEVBQU1sRCxXQUVINkMsRUFwQ21DLEdDeUM5QyxFQWxCeUQsV0FDckQsU0FBU08sS0FlVCxPQVJBQSxFQUFvQ3pFLFVBQVVRLE9BQVMsU0FBVUUsR0FDN0QsSUFBSWdFLEVBQWNoRSxFQUFLUixlQUFlRyxLUjZDM0IsbUJRNUNYcUUsRUFBWXJFLEtBQUssR0FBMEJzRSxLQUFLLFlBQVksR0FDNURELEVBQVlyRSxLUjhDQSxpRFE5QzZCTSxHQUFHLG1CQUFtQixXQUMzRCtELEVBQVlyRSxLQUFLLEdBQTBCc0UsS0FBSyxZQUFZLEdBQzVERCxFQUFZckUsS1IyQ0gsc0JRM0NpQ3NFLEtBQUssVUFBVSxPQUcxREYsRUFoQjZDLElDSXhELEVBRFFsRyxPQUFPRCxJQUNiLFdBQ0UsSUFBSW9DLEVBQU8sSUFBSSxFQUFLLFFBQ3BCQSxFQUFLSixhQUFhLElBQUksR0FDdEJJLEVBQUtKLGFBQWEsSUFBSSxHQUN0QkksRUFBS0osYUFBYSxJQUFJLEdBQ3RCSSxFQUFLSixhQUFhLElBQUksR0FDdEJJLEVBQUtKLGFBQWEsSUFBSSxHQUN0QkksRUFBS0osYUFBYSxJQUFJLE8iLCJmaWxlIjoibG9ncy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5cbi8qKlxuICogU2VuZCBhIFBvc3QgUmVxdWVzdCB0byByZXNldCBzZWFyY2ggQWN0aW9uLlxuICovXG5cbmNvbnN0IHskfSA9IHdpbmRvdztcblxuY29uc3QgaW5pdCA9IGZ1bmN0aW9uIHJlc2V0U2VhcmNoKHVybCwgcmVkaXJlY3RVcmwpIHtcbiAgJC5wb3N0KHVybCkudGhlbigoKSA9PiB3aW5kb3cubG9jYXRpb24uYXNzaWduKHJlZGlyZWN0VXJsKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbml0O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBidWxrczoge1xuICAgICAgICBkZWxldGVDYXRlZ29yaWVzOiAnLmpzLWRlbGV0ZS1jYXRlZ29yaWVzLWJ1bGstYWN0aW9uJyxcbiAgICAgICAgZGVsZXRlQ2F0ZWdvcmllc01vZGFsOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiI1wiICsgaWQgKyBcIl9ncmlkX2RlbGV0ZV9jYXRlZ29yaWVzX21vZGFsXCI7IH0sXG4gICAgICAgIGNoZWNrZWRDaGVja2JveDogJy5qcy1idWxrLWFjdGlvbi1jaGVja2JveDpjaGVja2VkJyxcbiAgICAgICAgZGVsZXRlQ3VzdG9tZXJzOiAnLmpzLWRlbGV0ZS1jdXN0b21lcnMtYnVsay1hY3Rpb24nLFxuICAgICAgICBkZWxldGVDdXN0b21lck1vZGFsOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiI1wiICsgaWQgKyBcIl9ncmlkX2RlbGV0ZV9jdXN0b21lcnNfbW9kYWxcIjsgfSxcbiAgICAgICAgc3VibWl0RGVsZXRlQ2F0ZWdvcmllczogJy5qcy1zdWJtaXQtZGVsZXRlLWNhdGVnb3JpZXMnLFxuICAgICAgICBzdWJtaXREZWxldGVDdXN0b21lcnM6ICcuanMtc3VibWl0LWRlbGV0ZS1jdXN0b21lcnMnLFxuICAgICAgICBjYXRlZ29yaWVzVG9EZWxldGU6ICcjZGVsZXRlX2NhdGVnb3JpZXNfY2F0ZWdvcmllc190b19kZWxldGUnLFxuICAgICAgICBjdXN0b21lcnNUb0RlbGV0ZTogJyNkZWxldGVfY3VzdG9tZXJzX2N1c3RvbWVyc190b19kZWxldGUnLFxuICAgICAgICBhY3Rpb25TZWxlY3RBbGw6ICcuanMtYnVsay1hY3Rpb24tc2VsZWN0LWFsbCcsXG4gICAgICAgIGJ1bGtBY3Rpb25DaGVja2JveDogJy5qcy1idWxrLWFjdGlvbi1jaGVja2JveCcsXG4gICAgICAgIGJ1bGtBY3Rpb25CdG46ICcuanMtYnVsay1hY3Rpb25zLWJ0bicsXG4gICAgICAgIG9wZW5UYWJzQnRuOiAnLmpzLWJ1bGstYWN0aW9uLWJ0bi5vcGVuX3RhYnMnLFxuICAgICAgICB0YWJsZUNob2ljZU9wdGlvbnM6ICd0YWJsZS50YWJsZSAuanMtY2hvaWNlLW9wdGlvbnMnLFxuICAgICAgICBjaG9pY2VPcHRpb25zOiAnLmpzLWNob2ljZS1vcHRpb25zJyxcbiAgICAgICAgbW9kYWxGb3JtU3VibWl0QnRuOiAnLmpzLWJ1bGstbW9kYWwtZm9ybS1zdWJtaXQtYnRuJyxcbiAgICAgICAgc3VibWl0QWN0aW9uOiAnLmpzLWJ1bGstYWN0aW9uLXN1Ym1pdC1idG4nLFxuICAgICAgICBncmlkU3VibWl0QWN0aW9uOiAnLmpzLWdyaWQtYWN0aW9uLXN1Ym1pdC1idG4nLFxuICAgIH0sXG4gICAgcm93czoge1xuICAgICAgICBjYXRlZ29yeURlbGV0ZUFjdGlvbjogJy5qcy1kZWxldGUtY2F0ZWdvcnktcm93LWFjdGlvbicsXG4gICAgICAgIGN1c3RvbWVyRGVsZXRlQWN0aW9uOiAnLmpzLWRlbGV0ZS1jdXN0b21lci1yb3ctYWN0aW9uJyxcbiAgICAgICAgbGlua1Jvd0FjdGlvbjogJy5qcy1saW5rLXJvdy1hY3Rpb24nLFxuICAgICAgICBsaW5rUm93QWN0aW9uQ2xpY2thYmxlRmlyc3Q6ICcuanMtbGluay1yb3ctYWN0aW9uW2RhdGEtY2xpY2thYmxlLXJvdz0xXTpmaXJzdCcsXG4gICAgICAgIGNsaWNrYWJsZVRkOiAndGQuY2xpY2thYmxlJyxcbiAgICB9LFxuICAgIGFjdGlvbnM6IHtcbiAgICAgICAgc2hvd1F1ZXJ5OiAnLmpzLWNvbW1vbl9zaG93X3F1ZXJ5LWdyaWQtYWN0aW9uJyxcbiAgICAgICAgZXhwb3J0UXVlcnk6ICcuanMtY29tbW9uX2V4cG9ydF9zcWxfbWFuYWdlci1ncmlkLWFjdGlvbicsXG4gICAgICAgIHNob3dNb2RhbEZvcm06IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCIjXCIgKyBpZCArIFwiX2NvbW1vbl9zaG93X3F1ZXJ5X21vZGFsX2Zvcm1cIjsgfSxcbiAgICAgICAgc2hvd01vZGFsR3JpZDogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIiNcIiArIGlkICsgXCJfZ3JpZF9jb21tb25fc2hvd19xdWVyeV9tb2RhbFwiOyB9LFxuICAgICAgICBtb2RhbEZvcm1TdWJtaXRCdG46ICcuanMtYnVsay1tb2RhbC1mb3JtLXN1Ym1pdC1idG4nLFxuICAgICAgICBzdWJtaXRNb2RhbEZvcm1CdG46ICcuanMtc3VibWl0LW1vZGFsLWZvcm0tYnRuJyxcbiAgICAgICAgYnVsa0lucHV0c0Jsb2NrOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiI1wiICsgaWQ7IH0sXG4gICAgICAgIHRva2VuSW5wdXQ6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCJpbnB1dFtuYW1lPVxcXCJcIiArIGlkICsgXCJbX3Rva2VuXVxcXCJdXCI7IH0sXG4gICAgfSxcbiAgICBwb3NpdGlvbjogZnVuY3Rpb24gKGlkKSB7IHJldHVybiBcIi5qcy1cIiArIGlkICsgXCItcG9zaXRpb246Zmlyc3RcIjsgfSxcbiAgICBjb25maXJtTW9kYWw6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gaWQgKyBcIi1ncmlkLWNvbmZpcm0tbW9kYWxcIjsgfSxcbiAgICBncmlkVGFibGU6ICcuanMtZ3JpZC10YWJsZScsXG4gICAgZHJhZ0hhbmRsZXI6ICcuanMtZHJhZy1oYW5kbGUnLFxuICAgIHNwZWNpZmljR3JpZFRhYmxlOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGlkICsgXCJfZ3JpZF90YWJsZVwiOyB9LFxuICAgIGdyaWQ6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gXCIjXCIgKyBpZCArIFwiX2dyaWRcIjsgfSxcbiAgICBncmlkUGFuZWw6ICcuanMtZ3JpZC1wYW5lbCcsXG4gICAgZ3JpZEhlYWRlcjogJy5qcy1ncmlkLWhlYWRlcicsXG4gICAgZ3JpZFBvc2l0aW9uOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiLmpzLVwiICsgaWQgKyBcIi1wb3NpdGlvblwiOyB9LFxuICAgIGdyaWRUYWJsZVBvc2l0aW9uOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiLmpzLWdyaWQtdGFibGUgLmpzLVwiICsgaWQgKyBcIi1wb3NpdGlvblwiOyB9LFxuICAgIGdyaWRQb3NpdGlvbkZpcnN0OiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiLmpzLVwiICsgaWQgKyBcIi1wb3NpdGlvbjpmaXJzdFwiOyB9LFxuICAgIHNlbGVjdFBvc2l0aW9uOiAnanMtcG9zaXRpb24nLFxuICAgIHRvZ2dsYWJsZVJvdzogJy5wcy10b2dnbGFibGUtcm93JyxcbiAgICBkcm9wZG93bkl0ZW06ICcuanMtZHJvcGRvd24taXRlbScsXG4gICAgdGFibGU6ICd0YWJsZS50YWJsZScsXG4gICAgaGVhZGVyVG9vbGJhcjogJy5oZWFkZXItdG9vbGJhcicsXG4gICAgYnJlYWRjcnVtYkl0ZW06ICcuYnJlYWRjcnVtYi1pdGVtJyxcbiAgICByZXNldFNlYXJjaDogJy5qcy1yZXNldC1zZWFyY2gnLFxuICAgIGV4cGFuZDogJy5qcy1leHBhbmQnLFxuICAgIGNvbGxhcHNlOiAnLmpzLWNvbGxhcHNlJyxcbiAgICBjb2x1bW5GaWx0ZXJzOiAnLmNvbHVtbi1maWx0ZXJzJyxcbiAgICBncmlkU2VhcmNoQnV0dG9uOiAnLmdyaWQtc2VhcmNoLWJ1dHRvbicsXG4gICAgZ3JpZFJlc2V0QnV0dG9uOiAnLmdyaWQtcmVzZXQtYnV0dG9uJyxcbiAgICBpbnB1dEFuZFNlbGVjdDogJ2lucHV0Om5vdCguanMtYnVsay1hY3Rpb24tc2VsZWN0LWFsbCksIHNlbGVjdCcsXG4gICAgcHJldmlld1RvZ2dsZTogJy5wcmV2aWV3LXRvZ2dsZScsXG4gICAgcHJldmlld1JvdzogJy5wcmV2aWV3LXJvdycsXG4gICAgZ3JpZFRib2R5OiAnLmdyaWQtdGFibGUgdGJvZHknLFxuICAgIHRyTm90UHJldmlld1JvdzogJ3RyOm5vdCgucHJldmlldy1yb3cpJyxcbiAgICBjb21tb25SZWZyZXNoTGlzdEFjdGlvbjogJy5qcy1jb21tb25fcmVmcmVzaF9saXN0LWdyaWQtYWN0aW9uJyxcbiAgICBmaWx0ZXJGb3JtOiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiI1wiICsgaWQgKyBcIl9maWx0ZXJfZm9ybVwiOyB9LFxuICAgIG9uRHJhZ0NsYXNzOiAncG9zaXRpb24tcm93LXdoaWxlLWRyYWcnLFxuICAgIHNxbFN1Ym1pdDogJy5idG4tc3FsLXN1Ym1pdCcsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBDbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgaGFuZGxpbmcgR3JpZCBldmVudHNcbiAqL1xudmFyIEdyaWQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogR3JpZCBpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JpZChpZCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoR3JpZE1hcC5ncmlkKHRoaXMuaWQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGdyaWQgaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGdyaWQgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7alF1ZXJ5fVxuICAgICAqL1xuICAgIEdyaWQucHJvdG90eXBlLmdldENvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNvbnRhaW5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBncmlkIGhlYWRlciBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtqUXVlcnl9XG4gICAgICovXG4gICAgR3JpZC5wcm90b3R5cGUuZ2V0SGVhZGVyQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY29udGFpbmVyLmNsb3Nlc3QoR3JpZE1hcC5ncmlkUGFuZWwpLmZpbmQoR3JpZE1hcC5ncmlkSGVhZGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkIHdpdGggZXh0ZXJuYWwgZXh0ZW5zaW9uc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV4dGVuc2lvblxuICAgICAqL1xuICAgIEdyaWQucHJvdG90eXBlLmFkZEV4dGVuc2lvbiA9IGZ1bmN0aW9uIChleHRlbnNpb24pIHtcbiAgICAgICAgZXh0ZW5zaW9uLmV4dGVuZCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBHcmlkO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEdyaWQ7XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5pbXBvcnQgR3JpZE1hcCBmcm9tICdAY29tcG9uZW50cy9ncmlkL2dyaWQtbWFwJztcbi8qKlxuICogQ2xhc3MgUmVsb2FkTGlzdEV4dGVuc2lvbiBleHRlbmRzIGdyaWQgd2l0aCBcIkxpc3QgcmVsb2FkXCIgYWN0aW9uXG4gKi9cbnZhciBSZWxvYWRMaXN0RXh0ZW5zaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbG9hZExpc3RFeHRlbnNpb24oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBSZWxvYWRMaXN0RXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICBncmlkXG4gICAgICAgICAgICAuZ2V0SGVhZGVyQ29udGFpbmVyKClcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBHcmlkTWFwLmNvbW1vblJlZnJlc2hMaXN0QWN0aW9uLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbG9hZExpc3RFeHRlbnNpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVsb2FkTGlzdEV4dGVuc2lvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbmltcG9ydCBHcmlkTWFwIGZyb20gJ0Bjb21wb25lbnRzL2dyaWQvZ3JpZC1tYXAnO1xudmFyICQgPSB3aW5kb3cuJDtcbi8qKlxuICogQ2xhc3MgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uIGV4dGVuZHMgZ3JpZCB3aXRoIGV4cG9ydGluZyBxdWVyeSB0byBTUUwgTWFuYWdlclxuICovXG52YXIgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0ZW5kIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqL1xuICAgIEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZ3JpZFxuICAgICAgICAgICAgLmdldEhlYWRlckNvbnRhaW5lcigpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgR3JpZE1hcC5hY3Rpb25zLnNob3dRdWVyeSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25TaG93U3FsUXVlcnlDbGljayhncmlkKTsgfSk7XG4gICAgICAgIGdyaWRcbiAgICAgICAgICAgIC5nZXRIZWFkZXJDb250YWluZXIoKVxuICAgICAgICAgICAgLm9uKCdjbGljaycsIEdyaWRNYXAuYWN0aW9ucy5leHBvcnRRdWVyeSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25FeHBvcnRTcWxNYW5hZ2VyQ2xpY2soZ3JpZCk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIGNsaWNraW5nIG9uIHRoZSBcInNob3cgc3FsIHF1ZXJ5XCIgdG9vbGJhciBidXR0b25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24ucHJvdG90eXBlLm9uU2hvd1NxbFF1ZXJ5Q2xpY2sgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICB2YXIgJHNxbE1hbmFnZXJGb3JtID0gJChHcmlkTWFwLmFjdGlvbnMuc2hvd01vZGFsRm9ybShncmlkLmdldElkKCkpKTtcbiAgICAgICAgdGhpcy5maWxsRXhwb3J0Rm9ybSgkc3FsTWFuYWdlckZvcm0sIGdyaWQpO1xuICAgICAgICB2YXIgJG1vZGFsID0gJChHcmlkTWFwLmFjdGlvbnMuc2hvd01vZGFsR3JpZChncmlkLmdldElkKCkpKTtcbiAgICAgICAgJG1vZGFsLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICRtb2RhbC5vbignY2xpY2snLCBHcmlkTWFwLnNxbFN1Ym1pdCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gJHNxbE1hbmFnZXJGb3JtLnN1Ym1pdCgpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiBjbGlja2luZyBvbiB0aGUgXCJleHBvcnQgdG8gdGhlIHNxbCBxdWVyeVwiIHRvb2xiYXIgYnV0dG9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uLnByb3RvdHlwZS5vbkV4cG9ydFNxbE1hbmFnZXJDbGljayA9IGZ1bmN0aW9uIChncmlkKSB7XG4gICAgICAgIHZhciAkc3FsTWFuYWdlckZvcm0gPSAkKEdyaWRNYXAuYWN0aW9ucy5zaG93TW9kYWxGb3JtKGdyaWQuZ2V0SWQoKSkpO1xuICAgICAgICB0aGlzLmZpbGxFeHBvcnRGb3JtKCRzcWxNYW5hZ2VyRm9ybSwgZ3JpZCk7XG4gICAgICAgICRzcWxNYW5hZ2VyRm9ybS5zdWJtaXQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbGwgZXhwb3J0IGZvcm0gd2l0aCBTUUwgYW5kIGl0J3MgbmFtZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICRzcWxNYW5hZ2VyRm9ybVxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBFeHBvcnRUb1NxbE1hbmFnZXJFeHRlbnNpb24ucHJvdG90eXBlLmZpbGxFeHBvcnRGb3JtID0gZnVuY3Rpb24gKCRzcWxNYW5hZ2VyRm9ybSwgZ3JpZCkge1xuICAgICAgICB2YXIgcXVlcnkgPSBncmlkXG4gICAgICAgICAgICAuZ2V0Q29udGFpbmVyKClcbiAgICAgICAgICAgIC5maW5kKEdyaWRNYXAuZ3JpZFRhYmxlKVxuICAgICAgICAgICAgLmRhdGEoJ3F1ZXJ5Jyk7XG4gICAgICAgICRzcWxNYW5hZ2VyRm9ybS5maW5kKCd0ZXh0YXJlYVtuYW1lPVwic3FsXCJdJykudmFsKHF1ZXJ5KTtcbiAgICAgICAgJHNxbE1hbmFnZXJGb3JtXG4gICAgICAgICAgICAuZmluZCgnaW5wdXRbbmFtZT1cIm5hbWVcIl0nKVxuICAgICAgICAgICAgLnZhbCh0aGlzLmdldE5hbWVGcm9tQnJlYWRjcnVtYigpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBleHBvcnQgbmFtZSBmcm9tIHBhZ2UncyBicmVhZGNydW1iXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbi5wcm90b3R5cGUuZ2V0TmFtZUZyb21CcmVhZGNydW1iID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGJyZWFkY3J1bWJzID0gJChHcmlkTWFwLmhlYWRlclRvb2xiYXIpLmZpbmQoR3JpZE1hcC5icmVhZGNydW1iSXRlbSk7XG4gICAgICAgIHZhciBuYW1lID0gJyc7XG4gICAgICAgICRicmVhZGNydW1icy5lYWNoKGZ1bmN0aW9uIChpLCBpdGVtKSB7XG4gICAgICAgICAgICB2YXIgJGJyZWFkY3J1bWIgPSAkKGl0ZW0pO1xuICAgICAgICAgICAgdmFyIGJyZWFkY3J1bWJUaXRsZSA9ICRicmVhZGNydW1iLmZpbmQoJ2EnKS5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyAkYnJlYWRjcnVtYi5maW5kKCdhJykudGV4dCgpXG4gICAgICAgICAgICAgICAgOiAkYnJlYWRjcnVtYi50ZXh0KCk7XG4gICAgICAgICAgICBpZiAobmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuY29uY2F0KCcgPiAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLmNvbmNhdChicmVhZGNydW1iVGl0bGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfTtcbiAgICByZXR1cm4gRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEV4cG9ydFRvU3FsTWFuYWdlckV4dGVuc2lvbjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IHNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBQcmVzdGFTaG9wIGlzIGFuIEludGVybmF0aW9uYWwgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgJiBQcm9wZXJ0eSBvZiBQcmVzdGFTaG9wIFNBXG4gKlxuICogTk9USUNFIE9GIExJQ0VOU0VcbiAqXG4gKiBUaGlzIHNvdXJjZSBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqIHRoYXQgaXMgYnVuZGxlZCB3aXRoIHRoaXMgcGFja2FnZSBpbiB0aGUgZmlsZSBMSUNFTlNFLm1kLlxuICogSXQgaXMgYWxzbyBhdmFpbGFibGUgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIgYXQgdGhpcyBVUkw6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjBcbiAqIElmIHlvdSBkaWQgbm90IHJlY2VpdmUgYSBjb3B5IG9mIHRoZSBsaWNlbnNlIGFuZCBhcmUgdW5hYmxlIHRvXG4gKiBvYnRhaW4gaXQgdGhyb3VnaCB0aGUgd29ybGQtd2lkZS13ZWIsIHBsZWFzZSBzZW5kIGFuIGVtYWlsXG4gKiB0byBsaWNlbnNlQHByZXN0YXNob3AuY29tIHNvIHdlIGNhbiBzZW5kIHlvdSBhIGNvcHkgaW1tZWRpYXRlbHkuXG4gKlxuICogRElTQ0xBSU1FUlxuICpcbiAqIERvIG5vdCBlZGl0IG9yIGFkZCB0byB0aGlzIGZpbGUgaWYgeW91IHdpc2ggdG8gdXBncmFkZSBQcmVzdGFTaG9wIHRvIG5ld2VyXG4gKiB2ZXJzaW9ucyBpbiB0aGUgZnV0dXJlLiBJZiB5b3Ugd2lzaCB0byBjdXN0b21pemUgUHJlc3RhU2hvcCBmb3IgeW91clxuICogbmVlZHMgcGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZG9jcy5wcmVzdGFzaG9wLmNvbS8gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQGF1dGhvciAgICBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnMgPGNvbnRhY3RAcHJlc3Rhc2hvcC5jb20+XG4gKiBAY29weXJpZ2h0IFNpbmNlIDIwMDcgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzXG4gKiBAbGljZW5zZSAgIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMCBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKi9cbmltcG9ydCByZXNldFNlYXJjaCBmcm9tICdAYXBwL3V0aWxzL3Jlc2V0X3NlYXJjaCc7XG5pbXBvcnQgR3JpZE1hcCBmcm9tICdAY29tcG9uZW50cy9ncmlkL2dyaWQtbWFwJztcbnZhciAkID0gd2luZG93LiQ7XG4vKipcbiAqIENsYXNzIEZpbHRlcnNSZXNldEV4dGVuc2lvbiBleHRlbmRzIGdyaWQgd2l0aCBmaWx0ZXJzIHJlc2V0dGluZ1xuICovXG52YXIgRmlsdGVyc1Jlc2V0RXh0ZW5zaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbHRlcnNSZXNldEV4dGVuc2lvbigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0ZW5kIGdyaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxuICAgICAqL1xuICAgIEZpbHRlcnNSZXNldEV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgZ3JpZC5nZXRDb250YWluZXIoKS5vbignY2xpY2snLCBHcmlkTWFwLnJlc2V0U2VhcmNoLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHJlc2V0U2VhcmNoKCQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YSgndXJsJyksICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YSgncmVkaXJlY3QnKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlcnNSZXNldEV4dGVuc2lvbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGaWx0ZXJzUmVzZXRFeHRlbnNpb247XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG52YXIgJCA9IHdpbmRvdy4kO1xuLyoqXG4gKiBNYWtlcyBhIHRhYmxlIHNvcnRhYmxlIGJ5IGNvbHVtbnMuXG4gKiBUaGlzIGZvcmNlcyBhIHBhZ2UgcmVsb2FkIHdpdGggbW9yZSBxdWVyeSBwYXJhbWV0ZXJzLlxuICovXG52YXIgVGFibGVTb3J0aW5nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSB0YWJsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRhYmxlU29ydGluZyh0YWJsZSkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gJy5wcy1zb3J0YWJsZS1jb2x1bW4nO1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSAkKHRhYmxlKS5maW5kKHRoaXMuc2VsZWN0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyB0aGUgbGlzdGVuZXJzXG4gICAgICovXG4gICAgVGFibGVTb3J0aW5nLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29sdW1ucy5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyICRjb2x1bW4gPSAkKGUuZGVsZWdhdGVUYXJnZXQpO1xuICAgICAgICAgICAgX3RoaXMuc29ydEJ5Q29sdW1uKCRjb2x1bW4sIF90aGlzLmdldFRvZ2dsZWRTb3J0RGlyZWN0aW9uKCRjb2x1bW4pKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTb3J0IHVzaW5nIGEgY29sdW1uIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29sdW1uTmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb24gXCJhc2NcIiBvciBcImRlc2NcIlxuICAgICAqL1xuICAgIFRhYmxlU29ydGluZy5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24gKGNvbHVtbk5hbWUsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgJGNvbHVtbiA9IHRoaXMuY29sdW1ucy5pcyhcIltkYXRhLXNvcnQtY29sLW5hbWU9XFxcIlwiICsgY29sdW1uTmFtZSArIFwiXFxcIl1cIik7XG4gICAgICAgIGlmICghJGNvbHVtbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNvcnQgYnkgXFxcIlwiICsgY29sdW1uTmFtZSArIFwiXFxcIjogaW52YWxpZCBjb2x1bW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3J0QnlDb2x1bW4odGhpcy5jb2x1bW5zLCBkaXJlY3Rpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU29ydCB1c2luZyBhIGNvbHVtbiBlbGVtZW50XG4gICAgICogQHBhcmFtIHtqUXVlcnl9IGNvbHVtblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkaXJlY3Rpb24gXCJhc2NcIiBvciBcImRlc2NcIlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGFibGVTb3J0aW5nLnByb3RvdHlwZS5zb3J0QnlDb2x1bW4gPSBmdW5jdGlvbiAoY29sdW1uLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLmdldFVybChjb2x1bW4uZGF0YSgnc29ydENvbE5hbWUnKSwgZGlyZWN0aW9uID09PSAnZGVzYycgPyAnZGVzYycgOiAnYXNjJywgY29sdW1uLmRhdGEoJ3NvcnRQcmVmaXgnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbnZlcnRlZCBkaXJlY3Rpb24gdG8gc29ydCBhY2NvcmRpbmcgdG8gdGhlIGNvbHVtbidzIGN1cnJlbnQgb25lXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IGNvbHVtblxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRhYmxlU29ydGluZy5wcm90b3R5cGUuZ2V0VG9nZ2xlZFNvcnREaXJlY3Rpb24gPSBmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW4uZGF0YSgnc29ydERpcmVjdGlvbicpID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdXJsIGZvciB0aGUgc29ydGVkIHRhYmxlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGlyZWN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRhYmxlU29ydGluZy5wcm90b3R5cGUuZ2V0VXJsID0gZnVuY3Rpb24gKGNvbE5hbWUsIGRpcmVjdGlvbiwgcHJlZml4KSB7XG4gICAgICAgIHZhciB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHVybC5zZWFyY2hQYXJhbXM7XG4gICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQocHJlZml4ICsgXCJbb3JkZXJCeV1cIiwgY29sTmFtZSk7XG4gICAgICAgICAgICBwYXJhbXMuc2V0KHByZWZpeCArIFwiW3NvcnRPcmRlcl1cIiwgZGlyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoJ29yZGVyQnknLCBjb2xOYW1lKTtcbiAgICAgICAgICAgIHBhcmFtcy5zZXQoJ3NvcnRPcmRlcicsIGRpcmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH07XG4gICAgcmV0dXJuIFRhYmxlU29ydGluZztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBUYWJsZVNvcnRpbmc7XG4iLCIvKipcbiAqIENvcHlyaWdodCBzaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogUHJlc3RhU2hvcCBpcyBhbiBJbnRlcm5hdGlvbmFsIFJlZ2lzdGVyZWQgVHJhZGVtYXJrICYgUHJvcGVydHkgb2YgUHJlc3RhU2hvcCBTQVxuICpcbiAqIE5PVElDRSBPRiBMSUNFTlNFXG4gKlxuICogVGhpcyBzb3VyY2UgZmlsZSBpcyBzdWJqZWN0IHRvIHRoZSBPcGVuIFNvZnR3YXJlIExpY2Vuc2UgKE9TTCAzLjApXG4gKiB0aGF0IGlzIGJ1bmRsZWQgd2l0aCB0aGlzIHBhY2thZ2UgaW4gdGhlIGZpbGUgTElDRU5TRS5tZC5cbiAqIEl0IGlzIGFsc28gYXZhaWxhYmxlIHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViIGF0IHRoaXMgVVJMOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wXG4gKiBJZiB5b3UgZGlkIG5vdCByZWNlaXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSBhbmQgYXJlIHVuYWJsZSB0b1xuICogb2J0YWluIGl0IHRocm91Z2ggdGhlIHdvcmxkLXdpZGUtd2ViLCBwbGVhc2Ugc2VuZCBhbiBlbWFpbFxuICogdG8gbGljZW5zZUBwcmVzdGFzaG9wLmNvbSBzbyB3ZSBjYW4gc2VuZCB5b3UgYSBjb3B5IGltbWVkaWF0ZWx5LlxuICpcbiAqIERJU0NMQUlNRVJcbiAqXG4gKiBEbyBub3QgZWRpdCBvciBhZGQgdG8gdGhpcyBmaWxlIGlmIHlvdSB3aXNoIHRvIHVwZ3JhZGUgUHJlc3RhU2hvcCB0byBuZXdlclxuICogdmVyc2lvbnMgaW4gdGhlIGZ1dHVyZS4gSWYgeW91IHdpc2ggdG8gY3VzdG9taXplIFByZXN0YVNob3AgZm9yIHlvdXJcbiAqIG5lZWRzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmRvY3MucHJlc3Rhc2hvcC5jb20vIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBhdXRob3IgICAgUHJlc3RhU2hvcCBTQSBhbmQgQ29udHJpYnV0b3JzIDxjb250YWN0QHByZXN0YXNob3AuY29tPlxuICogQGNvcHlyaWdodCBTaW5jZSAyMDA3IFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9yc1xuICogQGxpY2Vuc2UgICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL09TTC0zLjAgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICovXG5pbXBvcnQgVGFibGVTb3J0aW5nIGZyb20gJ0BhcHAvdXRpbHMvdGFibGUtc29ydGluZyc7XG5pbXBvcnQgR3JpZE1hcCBmcm9tICdAY29tcG9uZW50cy9ncmlkL2dyaWQtbWFwJztcbi8qKlxuICogQ2xhc3MgUmVsb2FkTGlzdEV4dGVuc2lvbiBleHRlbmRzIGdyaWQgd2l0aCBcIkxpc3QgcmVsb2FkXCIgYWN0aW9uXG4gKi9cbnZhciBTb3J0aW5nRXh0ZW5zaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNvcnRpbmdFeHRlbnNpb24oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBTb3J0aW5nRXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoZ3JpZCkge1xuICAgICAgICB2YXIgJHNvcnRhYmxlVGFibGUgPSBncmlkLmdldENvbnRhaW5lcigpLmZpbmQoR3JpZE1hcC50YWJsZSk7XG4gICAgICAgIG5ldyBUYWJsZVNvcnRpbmcoJHNvcnRhYmxlVGFibGUpLmF0dGFjaCgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNvcnRpbmdFeHRlbnNpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU29ydGluZ0V4dGVuc2lvbjtcbiIsImltcG9ydCBHcmlkTWFwIGZyb20gJ0Bjb21wb25lbnRzL2dyaWQvZ3JpZC1tYXAnO1xudmFyICQgPSB3aW5kb3cuJDtcbi8qKlxuICogQ2xhc3MgU3VibWl0R3JpZEFjdGlvbkV4dGVuc2lvbiBoYW5kbGVzIGdyaWQgYWN0aW9uIHN1Ym1pdHNcbiAqL1xudmFyIFN1Ym1pdEdyaWRBY3Rpb25FeHRlbnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3VibWl0R3JpZEFjdGlvbkV4dGVuc2lvbigpIHtcbiAgICB9XG4gICAgU3VibWl0R3JpZEFjdGlvbkV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZ3JpZFxuICAgICAgICAgICAgLmdldEhlYWRlckNvbnRhaW5lcigpXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgR3JpZE1hcC5idWxrcy5ncmlkU3VibWl0QWN0aW9uLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZVN1Ym1pdChldmVudCwgZ3JpZCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIGdyaWQgYWN0aW9uIHN1Ym1pdC5cbiAgICAgKiBJdCB1c2VzIGdyaWQgZm9ybSB0byBzdWJtaXQgYWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFN1Ym1pdEdyaWRBY3Rpb25FeHRlbnNpb24ucHJvdG90eXBlLmhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIChldmVudCwgZ3JpZCkge1xuICAgICAgICB2YXIgJHN1Ym1pdEJ0biA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgIHZhciBjb25maXJtTWVzc2FnZSA9ICRzdWJtaXRCdG4uZGF0YSgnY29uZmlybS1tZXNzYWdlJyk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlybU1lc3NhZ2UgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAmJiBjb25maXJtTWVzc2FnZS5sZW5ndGggPiAwXG4gICAgICAgICAgICAmJiAhd2luZG93LmNvbmZpcm0oY29uZmlybU1lc3NhZ2UpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRmb3JtID0gJChHcmlkTWFwLmZpbHRlckZvcm0oZ3JpZC5nZXRJZCgpKSk7XG4gICAgICAgICRmb3JtLmF0dHIoJ2FjdGlvbicsICRzdWJtaXRCdG4uZGF0YSgndXJsJykpO1xuICAgICAgICAkZm9ybS5hdHRyKCdtZXRob2QnLCAkc3VibWl0QnRuLmRhdGEoJ21ldGhvZCcpKTtcbiAgICAgICAgJGZvcm1cbiAgICAgICAgICAgIC5maW5kKEdyaWRNYXAuYWN0aW9ucy50b2tlbklucHV0KGdyaWQuZ2V0SWQoKSkpXG4gICAgICAgICAgICAudmFsKCRzdWJtaXRCdG4uZGF0YSgnY3NyZicpKTtcbiAgICAgICAgJGZvcm0uc3VibWl0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gU3VibWl0R3JpZEFjdGlvbkV4dGVuc2lvbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdWJtaXRHcmlkQWN0aW9uRXh0ZW5zaW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IEdyaWRNYXAgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkLW1hcCc7XG4vKipcbiAqIFJlc3BvbnNpYmxlIGZvciBncmlkIGZpbHRlcnMgc2VhcmNoIGFuZCByZXNldCBidXR0b24gYXZhaWxhYmlsaXR5IHdoZW4gZmlsdGVyIGlucHV0cyBjaGFuZ2VzLlxuICovXG52YXIgRmlsdGVyc1N1Ym1pdEJ1dHRvbkVuYWJsZXJFeHRlbnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyc1N1Ym1pdEJ1dHRvbkVuYWJsZXJFeHRlbnNpb24oKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZCBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBGaWx0ZXJzU3VibWl0QnV0dG9uRW5hYmxlckV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKGdyaWQpIHtcbiAgICAgICAgdmFyICRmaWx0ZXJzUm93ID0gZ3JpZC5nZXRDb250YWluZXIoKS5maW5kKEdyaWRNYXAuY29sdW1uRmlsdGVycyk7XG4gICAgICAgICRmaWx0ZXJzUm93LmZpbmQoR3JpZE1hcC5ncmlkU2VhcmNoQnV0dG9uKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAkZmlsdGVyc1Jvdy5maW5kKEdyaWRNYXAuaW5wdXRBbmRTZWxlY3QpLm9uKCdpbnB1dCBkcC5jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkZmlsdGVyc1Jvdy5maW5kKEdyaWRNYXAuZ3JpZFNlYXJjaEJ1dHRvbikucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAkZmlsdGVyc1Jvdy5maW5kKEdyaWRNYXAuZ3JpZFJlc2V0QnV0dG9uKS5wcm9wKCdoaWRkZW4nLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlcnNTdWJtaXRCdXR0b25FbmFibGVyRXh0ZW5zaW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEZpbHRlcnNTdWJtaXRCdXR0b25FbmFibGVyRXh0ZW5zaW9uO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgc2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIFByZXN0YVNob3AgaXMgYW4gSW50ZXJuYXRpb25hbCBSZWdpc3RlcmVkIFRyYWRlbWFyayAmIFByb3BlcnR5IG9mIFByZXN0YVNob3AgU0FcbiAqXG4gKiBOT1RJQ0UgT0YgTElDRU5TRVxuICpcbiAqIFRoaXMgc291cmNlIGZpbGUgaXMgc3ViamVjdCB0byB0aGUgT3BlbiBTb2Z0d2FyZSBMaWNlbnNlIChPU0wgMy4wKVxuICogdGhhdCBpcyBidW5kbGVkIHdpdGggdGhpcyBwYWNrYWdlIGluIHRoZSBmaWxlIExJQ0VOU0UubWQuXG4gKiBJdCBpcyBhbHNvIGF2YWlsYWJsZSB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiBhdCB0aGlzIFVSTDpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvT1NMLTMuMFxuICogSWYgeW91IGRpZCBub3QgcmVjZWl2ZSBhIGNvcHkgb2YgdGhlIGxpY2Vuc2UgYW5kIGFyZSB1bmFibGUgdG9cbiAqIG9idGFpbiBpdCB0aHJvdWdoIHRoZSB3b3JsZC13aWRlLXdlYiwgcGxlYXNlIHNlbmQgYW4gZW1haWxcbiAqIHRvIGxpY2Vuc2VAcHJlc3Rhc2hvcC5jb20gc28gd2UgY2FuIHNlbmQgeW91IGEgY29weSBpbW1lZGlhdGVseS5cbiAqXG4gKiBESVNDTEFJTUVSXG4gKlxuICogRG8gbm90IGVkaXQgb3IgYWRkIHRvIHRoaXMgZmlsZSBpZiB5b3Ugd2lzaCB0byB1cGdyYWRlIFByZXN0YVNob3AgdG8gbmV3ZXJcbiAqIHZlcnNpb25zIGluIHRoZSBmdXR1cmUuIElmIHlvdSB3aXNoIHRvIGN1c3RvbWl6ZSBQcmVzdGFTaG9wIGZvciB5b3VyXG4gKiBuZWVkcyBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9kZXZkb2NzLnByZXN0YXNob3AuY29tLyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAYXV0aG9yICAgIFByZXN0YVNob3AgU0EgYW5kIENvbnRyaWJ1dG9ycyA8Y29udGFjdEBwcmVzdGFzaG9wLmNvbT5cbiAqIEBjb3B5cmlnaHQgU2luY2UgMjAwNyBQcmVzdGFTaG9wIFNBIGFuZCBDb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9PU0wtMy4wIE9wZW4gU29mdHdhcmUgTGljZW5zZSAoT1NMIDMuMClcbiAqL1xuaW1wb3J0IEdyaWQgZnJvbSAnQGNvbXBvbmVudHMvZ3JpZC9ncmlkJztcbmltcG9ydCBSZWxvYWRMaXN0QWN0aW9uRXh0ZW5zaW9uIGZyb20gJ0Bjb21wb25lbnRzL2dyaWQvZXh0ZW5zaW9uL3JlbG9hZC1saXN0LWV4dGVuc2lvbic7XG5pbXBvcnQgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uIGZyb20gJ0Bjb21wb25lbnRzL2dyaWQvZXh0ZW5zaW9uL2V4cG9ydC10by1zcWwtbWFuYWdlci1leHRlbnNpb24nO1xuaW1wb3J0IEZpbHRlcnNSZXNldEV4dGVuc2lvbiBmcm9tICdAY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9maWx0ZXJzLXJlc2V0LWV4dGVuc2lvbic7XG5pbXBvcnQgU29ydGluZ0V4dGVuc2lvbiBmcm9tICdAY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9zb3J0aW5nLWV4dGVuc2lvbic7XG5pbXBvcnQgU3VibWl0R3JpZEFjdGlvbkV4dGVuc2lvbiBmcm9tICdAY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9zdWJtaXQtZ3JpZC1hY3Rpb24tZXh0ZW5zaW9uJztcbmltcG9ydCBGaWx0ZXJzU3VibWl0QnV0dG9uRW5hYmxlckV4dGVuc2lvbiBmcm9tICdAY29tcG9uZW50cy9ncmlkL2V4dGVuc2lvbi9maWx0ZXJzLXN1Ym1pdC1idXR0b24tZW5hYmxlci1leHRlbnNpb24nO1xudmFyICQgPSB3aW5kb3cuJDtcbiQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBncmlkID0gbmV3IEdyaWQoJ2xvZ3MnKTtcbiAgICBncmlkLmFkZEV4dGVuc2lvbihuZXcgUmVsb2FkTGlzdEFjdGlvbkV4dGVuc2lvbigpKTtcbiAgICBncmlkLmFkZEV4dGVuc2lvbihuZXcgRXhwb3J0VG9TcWxNYW5hZ2VyRXh0ZW5zaW9uKCkpO1xuICAgIGdyaWQuYWRkRXh0ZW5zaW9uKG5ldyBGaWx0ZXJzUmVzZXRFeHRlbnNpb24oKSk7XG4gICAgZ3JpZC5hZGRFeHRlbnNpb24obmV3IFNvcnRpbmdFeHRlbnNpb24oKSk7XG4gICAgZ3JpZC5hZGRFeHRlbnNpb24obmV3IFN1Ym1pdEdyaWRBY3Rpb25FeHRlbnNpb24oKSk7XG4gICAgZ3JpZC5hZGRFeHRlbnNpb24obmV3IEZpbHRlcnNTdWJtaXRCdXR0b25FbmFibGVyRXh0ZW5zaW9uKCkpO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9