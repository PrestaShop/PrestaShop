{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/pages/module/controller.js","webpack:///./js/pages/module/loader.js","webpack:///./js/pages/module/index.js","webpack:///./js/components/module-card.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$","window","AdminModuleController","moduleCardController","_classCallCheck","this","DEFAULT_MAX_RECENTLY_USED","DEFAULT_MAX_PER_CATEGORIES","DISPLAY_GRID","DISPLAY_LIST","CATEGORY_RECENTLY_USED","currentCategoryDisplay","currentDisplay","isCategoryGridDisplayed","currentTagsList","currentRefCategory","currentRefStatus","currentSorting","baseAddonsUrl","pstaggerInput","lastBulkAction","isUploadStarted","recentlyUsedSelector","modulesList","addonsCardGrid","addonsCardList","moduleShortList","seeMoreSelector","seeLessSelector","moduleItemGridSelector","moduleItemListSelector","categorySelectorLabelSelector","categorySelector","categoryItemSelector","addonsLoginButtonSelector","categoryResetBtnSelector","moduleInstallBtnSelector","moduleSortingDropdownSelector","categoryGridSelector","categoryGridItemSelector","addonItemGridSelector","addonItemListSelector","upgradeAllSource","upgradeAllTargets","bulkActionDropDownSelector","bulkItemSelector","bulkActionCheckboxListSelector","bulkActionCheckboxGridSelector","checkedBulkActionListSelector","concat","checkedBulkActionGridSelector","bulkActionCheckboxSelector","bulkConfirmModalSelector","bulkConfirmModalActionNameSelector","bulkConfirmModalListSelector","bulkConfirmModalAckBtnSelector","placeholderGlobalSelector","placeholderFailureGlobalSelector","placeholderFailureMsgSelector","placeholderFailureRetryBtnSelector","statusSelectorLabelSelector","statusItemSelector","statusResetBtnSelector","addonsConnectModalBtnSelector","addonsLogoutModalBtnSelector","addonsImportModalBtnSelector","dropZoneModalSelector","dropZoneModalFooterSelector","dropZoneImportZoneSelector","addonsConnectModalSelector","addonsLogoutModalSelector","addonsConnectForm","moduleImportModalCloseBtn","moduleImportStartSelector","moduleImportProcessingSelector","moduleImportSuccessSelector","moduleImportSuccessConfigureBtnSelector","moduleImportFailureSelector","moduleImportFailureRetrySelector","moduleImportFailureDetailsBtnSelector","moduleImportSelectFileManualSelector","moduleImportFailureMsgDetailsSelector","moduleImportConfirmSelector","initSortingDropdown","initBOEventRegistering","initCurrentDisplay","initSortingDisplaySwitch","initBulkDropdown","initSearchBlock","initCategorySelect","initCategoriesGrid","initActionButtons","initAddonsSearch","initAddonsConnect","initAddModuleAction","initDropzone","initPageChangeProtection","initPlaceholderMechanism","initFilterStatusDropdown","fetchModulesList","getNotificationsCount","initializeSeeMore","self","body","on","parseInt","data","text","find","show","updateModuleVisibility","hide","getBulkCheckboxesSelector","selector","getBulkCheckboxesCheckedSelector","length","closest","removeClass","addClass","modulesListString","buildBulkActionModuleList","actionString","toLowerCase","html","modal","growl","warning","message","translate_javascripts","event","preventDefault","stopPropagation","doBulkAction","BOEvent","onModuleDisabled","updateTotalResults","getModuleItemSelector","each","ajaxLoadPage","fadeOut","fadeIn","ajax","method","url","moduleURLs","catalogRefresh","done","response","status","domElements","msg","stylesheet","document","styleSheets","stylesheetRule","moduleGlobalSelector","moduleSortingSelector","requiredSelectorCombination","insertRule","cssRules","addRule","index","element","append","content","css","popover","fail","statusText","container","$this","push","domObject","id","scoring","parseFloat","logo","author","version","description","techName","childCategories","categories","String","type","price","active","access","display","hasClass","remove","trigger","order","splittedKey","split","sort","a","b","aData","bData","Date","getTime","isNaN","localeCompare","reverse","nbModulesInContainer","isVisible","currentModule","moduleCategory","tagExists","newValue","updateModuleSorting","modulesListLength","counter","indexOf","undefined","updateModuleContainerDisplay","currentElement","checkBoxesSelector","moduleItemSelector","alreadyDoneFlag","htmlGenerated","attr","dataType","serialize","beforeSend","success","location","reload","error","addModuleButton","dropzone","setTimeout","removeAttr","manualSelect","slideDown","dropzoneOptions","moduleImport","acceptedFiles","paramName","maxFilesize","uploadMultiple","addRemoveLinks","dictDefaultMessage","hiddenInputContainer","timeout","addedfile","animateStartUpload","processing","file","displayOnUploadError","complete","responseObject","parseJSON","xhr","is_configurable","module_name","displayOnUploadDone","extend","callback","finish","result","animateEndUpload","configureLink","configurationPage","replace","confirmation_subject","displayPrestaTrustStep","_replacePrestaTrustPlaceholders","moduleName","attributes","off","post","urls","install","actionParams[confirmPrestaTrust]","always","getJSON","notificationsCount","updateNotificationsCount","badge","destinationTabs","to_configure","to_update","searchQuery","encodeURIComponent","join","open","refCategory","resetTags","click","requestedBulkAction","forceDeletion","prop","bulkActionToUrl","bulk-uninstall","bulk-disable","bulk-enable","bulk-disable-mobile","bulk-enable-mobile","bulk-reset","bulkActionSelectedSelector","moduleTechName","actionMenuObj","urlActionSegment","urlElement","bulkModulesTechNames","next","moduleActionMenuLinkSelector","_requestToController","$next","rawText","originalText","charAt","toUpperCase","slice","_this","pstagger","onTagsChanged","tagList","onResetTags","inputPlaceholder","closingCross","context","switchTo","isAlreadyDisplayed","switchSortingDisplayTo","replaceFirstWordBy","explodedText","$shortLists","modulesCount","selectorToToggle","toggle","ModuleLoader","loader_classCallCheck","handleImport","handleEvents","validate","modulePoppin","target","href","ModuleCard","eventName","eventType","_event","createEvent","initEvent","dispatchEvent","moduleActionMenuInstallLinkSelector","moduleActionMenuEnableLinkSelector","moduleActionMenuUninstallLinkSelector","moduleActionMenuDisableLinkSelector","moduleActionMenuEnableMobileLinkSelector","moduleActionMenuDisableMobileLinkSelector","moduleActionMenuResetLinkSelector","moduleActionMenuUpdateLinkSelector","moduleItemActionsSelector","moduleActionModalDisableLinkSelector","moduleActionModalResetLinkSelector","moduleActionModalUninstallLinkSelector","forceDeletionOption","btn","_dispatchPreEvent","_confirmAction","e","parents","action","first","that","install_button","form","parent","appendTo","alertClass","prestatrust","check_list","src","img","alt","displayName","jQuery","Event","isPropagationStopped","isImmediatePropagationStopped","jqElementObj","spinnerObj","host","actionParams","serializeArray","after","_typeof","keys","_confirmPrestaTrust","notice","alteredSelector","mainElement","_getModuleItemSelector","replaceWith","action_menu_html"],"mappings":"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","file":"module.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 258);\n","/**\n * 2007-2018 PrestaShop.\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to http://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2018 PrestaShop SA\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\n/**\n * Module Admin Page Controller.\n * @constructor\n */\nclass AdminModuleController {\n  /**\n   * Initialize all listeners and bind everything\n   * @method init\n   * @memberof AdminModule\n   */\n  constructor(moduleCardController) {\n    this.moduleCardController = moduleCardController;\n\n    this.DEFAULT_MAX_RECENTLY_USED = 10;\n    this.DEFAULT_MAX_PER_CATEGORIES = 6;\n    this.DISPLAY_GRID = 'grid';\n    this.DISPLAY_LIST = 'list';\n    this.CATEGORY_RECENTLY_USED = 'recently-used';\n\n    this.currentCategoryDisplay = {};\n    this.currentDisplay = '';\n    this.isCategoryGridDisplayed = false;\n    this.currentTagsList = [];\n    this.currentRefCategory = null;\n    this.currentRefStatus = null;\n    this.currentSorting = null;\n    this.baseAddonsUrl = 'https://addons.prestashop.com/';\n    this.pstaggerInput = null;\n    this.lastBulkAction = null;\n    this.isUploadStarted = false;\n\n    this.recentlyUsedSelector = '#module-recently-used-list .modules-list';\n\n    /**\n     * Loaded modules list.\n     * Containing the card and list display.\n     * @type {Array}\n     */\n    this.modulesList = [];\n    this.addonsCardGrid = null;\n    this.addonsCardList = null;\n\n    this.moduleShortList = '.module-short-list';\n    // See more & See less selector\n    this.seeMoreSelector = '.see-more';\n    this.seeLessSelector = '.see-less';\n\n    // Selectors into vars to make it easier to change them while keeping same code logic\n    this.moduleItemGridSelector = '.module-item-grid';\n    this.moduleItemListSelector = '.module-item-list';\n    this.categorySelectorLabelSelector = '.module-category-selector-label';\n    this.categorySelector = '.module-category-selector';\n    this.categoryItemSelector = '.module-category-menu';\n    this.addonsLoginButtonSelector = '#addons_login_btn';\n    this.categoryResetBtnSelector = '.module-category-reset';\n    this.moduleInstallBtnSelector = 'input.module-install-btn';\n    this.moduleSortingDropdownSelector = '.module-sorting-author select';\n    this.categoryGridSelector = '#modules-categories-grid';\n    this.categoryGridItemSelector = '.module-category-item';\n    this.addonItemGridSelector = '.module-addons-item-grid';\n    this.addonItemListSelector = '.module-addons-item-list';\n\n    // Upgrade All selectors\n    this.upgradeAllSource = '.module_action_menu_upgrade_all';\n    this.upgradeAllTargets = '#modules-list-container-update .module_action_menu_upgrade:visible';\n\n    // Bulk action selectors\n    this.bulkActionDropDownSelector = '.module-bulk-actions';\n    this.bulkItemSelector = '.module-bulk-menu';\n    this.bulkActionCheckboxListSelector = '.module-checkbox-bulk-list input';\n    this.bulkActionCheckboxGridSelector = '.module-checkbox-bulk-grid input';\n    this.checkedBulkActionListSelector = `${this.bulkActionCheckboxListSelector}:checked`;\n    this.checkedBulkActionGridSelector = `${this.bulkActionCheckboxGridSelector}:checked`;\n    this.bulkActionCheckboxSelector = '#module-modal-bulk-checkbox';\n    this.bulkConfirmModalSelector = '#module-modal-bulk-confirm';\n    this.bulkConfirmModalActionNameSelector = '#module-modal-bulk-confirm-action-name';\n    this.bulkConfirmModalListSelector = '#module-modal-bulk-confirm-list';\n    this.bulkConfirmModalAckBtnSelector = '#module-modal-confirm-bulk-ack';\n\n    // Placeholders\n    this.placeholderGlobalSelector = '.module-placeholders-wrapper';\n    this.placeholderFailureGlobalSelector = '.module-placeholders-failure';\n    this.placeholderFailureMsgSelector = '.module-placeholders-failure-msg';\n    this.placeholderFailureRetryBtnSelector = '#module-placeholders-failure-retry';\n\n    // Module's statuses selectors\n    this.statusSelectorLabelSelector = '.module-status-selector-label';\n    this.statusItemSelector = '.module-status-menu';\n    this.statusResetBtnSelector = '.module-status-reset';\n\n    // Selectors for Module Import and Addons connect\n    this.addonsConnectModalBtnSelector = '#page-header-desc-configuration-addons_connect';\n    this.addonsLogoutModalBtnSelector = '#page-header-desc-configuration-addons_logout';\n    this.addonsImportModalBtnSelector = '#page-header-desc-configuration-add_module';\n    this.dropZoneModalSelector = '#module-modal-import';\n    this.dropZoneModalFooterSelector = '#module-modal-import .modal-footer';\n    this.dropZoneImportZoneSelector = '#importDropzone';\n    this.addonsConnectModalSelector = '#module-modal-addons-connect';\n    this.addonsLogoutModalSelector = '#module-modal-addons-logout';\n    this.addonsConnectForm = '#addons-connect-form';\n    this.moduleImportModalCloseBtn = '#module-modal-import-closing-cross';\n    this.moduleImportStartSelector = '.module-import-start';\n    this.moduleImportProcessingSelector = '.module-import-processing';\n    this.moduleImportSuccessSelector = '.module-import-success';\n    this.moduleImportSuccessConfigureBtnSelector = '.module-import-success-configure';\n    this.moduleImportFailureSelector = '.module-import-failure';\n    this.moduleImportFailureRetrySelector = '.module-import-failure-retry';\n    this.moduleImportFailureDetailsBtnSelector = '.module-import-failure-details-action';\n    this.moduleImportSelectFileManualSelector = '.module-import-start-select-manual';\n    this.moduleImportFailureMsgDetailsSelector = '.module-import-failure-details';\n    this.moduleImportConfirmSelector = '.module-import-confirm';\n\n    this.initSortingDropdown();\n    this.initBOEventRegistering();\n    this.initCurrentDisplay();\n    this.initSortingDisplaySwitch();\n    this.initBulkDropdown();\n    this.initSearchBlock();\n    this.initCategorySelect();\n    this.initCategoriesGrid();\n    this.initActionButtons();\n    this.initAddonsSearch();\n    this.initAddonsConnect();\n    this.initAddModuleAction();\n    this.initDropzone();\n    this.initPageChangeProtection();\n    this.initPlaceholderMechanism();\n    this.initFilterStatusDropdown();\n    this.fetchModulesList();\n    this.getNotificationsCount();\n    this.initializeSeeMore();\n  }\n\n  initFilterStatusDropdown() {\n    const self = this;\n    const body = $('body');\n    body.on('click', self.statusItemSelector, function () {\n      // Get data from li DOM input\n      self.currentRefStatus = parseInt($(this).data('status-ref'), 10);\n      // Change dropdown label to set it to the current status' displayname\n      $(self.statusSelectorLabelSelector).text($(this).find('a:first').text());\n      $(self.statusResetBtnSelector).show();\n      self.updateModuleVisibility();\n    });\n\n    body.on('click', self.statusResetBtnSelector, function () {\n      $(self.statusSelectorLabelSelector).text($(this).find('a').text());\n      $(this).hide();\n      self.currentRefStatus = null;\n      self.updateModuleVisibility();\n    });\n  }\n\n  initBulkDropdown() {\n    const self = this;\n    const body = $('body');\n\n\n    body.on('click', self.getBulkCheckboxesSelector(), () => {\n      const selector = $(self.bulkActionDropDownSelector);\n      if ($(self.getBulkCheckboxesCheckedSelector()).length > 0) {\n        selector.closest('.module-top-menu-item')\n                .removeClass('disabled');\n      } else {\n        selector.closest('.module-top-menu-item')\n                .addClass('disabled');\n      }\n    });\n\n    body.on('click', self.bulkItemSelector, function initializeBodyChange() {\n      if ($(self.getBulkCheckboxesCheckedSelector()).length === 0) {\n        $.growl.warning({message: window.translate_javascripts['Bulk Action - One module minimum']});\n        return;\n      }\n\n      self.lastBulkAction = $(this).data('ref');\n      const modulesListString = self.buildBulkActionModuleList();\n      const actionString = $(this).find(':checked').text().toLowerCase();\n      $(self.bulkConfirmModalListSelector).html(modulesListString);\n      $(self.bulkConfirmModalActionNameSelector).text(actionString);\n\n      if (self.lastBulkAction === 'bulk-uninstall') {\n        $(self.bulkActionCheckboxSelector).show();\n      } else {\n        $(self.bulkActionCheckboxSelector).hide();\n      }\n\n      $(self.bulkConfirmModalSelector).modal('show');\n    });\n\n    body.on('click', this.bulkConfirmModalAckBtnSelector, (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      $(self.bulkConfirmModalSelector).modal('hide');\n      self.doBulkAction(self.lastBulkAction);\n    });\n  }\n\n  initBOEventRegistering() {\n    window.BOEvent.on('Module Disabled', this.onModuleDisabled, this);\n    window.BOEvent.on('Module Uninstalled', this.updateTotalResults, this);\n  }\n\n  onModuleDisabled() {\n    const self = this;\n    const moduleItemSelector = self.getModuleItemSelector();\n\n    $('.modules-list').each(function scanModulesList() {\n      self.updateTotalResults();\n    });\n  }\n\n  initPlaceholderMechanism() {\n    const self = this;\n    if ($(self.placeholderGlobalSelector).length) {\n      self.ajaxLoadPage();\n    }\n\n    // Retry loading mechanism\n    $('body').on('click', self.placeholderFailureRetryBtnSelector, () => {\n      $(self.placeholderFailureGlobalSelector).fadeOut();\n      $(self.placeholderGlobalSelector).fadeIn();\n      self.ajaxLoadPage();\n    });\n  }\n\n  ajaxLoadPage() {\n    const self = this;\n\n    $.ajax({\n      method: 'GET',\n      url: window.moduleURLs.catalogRefresh,\n    }).done((response) => {\n      if (response.status === true) {\n        if (typeof response.domElements === 'undefined') response.domElements = null;\n        if (typeof response.msg === 'undefined') response.msg = null;\n\n        const stylesheet = document.styleSheets[0];\n        const stylesheetRule = '{display: none}';\n        const moduleGlobalSelector = '.modules-list';\n        const moduleSortingSelector = '.module-sorting-menu';\n        const requiredSelectorCombination = `${moduleGlobalSelector},${moduleSortingSelector}`;\n\n        if (stylesheet.insertRule) {\n          stylesheet.insertRule(\n            requiredSelectorCombination +\n            stylesheetRule, stylesheet.cssRules.length\n          );\n        } else if (stylesheet.addRule) {\n          stylesheet.addRule(\n            requiredSelectorCombination,\n            stylesheetRule,\n            -1\n          );\n        }\n\n        $(self.placeholderGlobalSelector).fadeOut(800, () => {\n          $.each(response.domElements, (index, element) => {\n            $(element.selector).append(element.content);\n          });\n          $(moduleGlobalSelector).fadeIn(800).css('display', 'flex');\n          $(moduleSortingSelector).fadeIn(800);\n          $('[data-toggle=\"popover\"]').popover();\n          self.initCurrentDisplay();\n          self.fetchModulesList();\n        });\n      } else {\n        $(self.placeholderGlobalSelector).fadeOut(800, () => {\n          $(self.placeholderFailureMsgSelector).text(response.msg);\n          $(self.placeholderFailureGlobalSelector).fadeIn(800);\n        });\n      }\n    }).fail((response) => {\n      $(self.placeholderGlobalSelector).fadeOut(800, () => {\n        $(self.placeholderFailureMsgSelector).text(response.statusText);\n        $(self.placeholderFailureGlobalSelector).fadeIn(800);\n      });\n    });\n  }\n\n  fetchModulesList() {\n    const self = this;\n    let container;\n    let $this;\n\n    self.modulesList = [];\n    $('.modules-list').each(function prepareContainer() {\n      container = $(this);\n      container.find('.module-item').each(function prepareModules() {\n        $this = $(this);\n        self.modulesList.push({\n          domObject: $this,\n          id: $this.data('id'),\n          name: $this.data('name').toLowerCase(),\n          scoring: parseFloat($this.data('scoring')),\n          logo: $this.data('logo'),\n          author: $this.data('author').toLowerCase(),\n          version: $this.data('version'),\n          description: $this.data('description').toLowerCase(),\n          techName: $this.data('tech-name').toLowerCase(),\n          childCategories: $this.data('child-categories'),\n          categories: String($this.data('categories')).toLowerCase(),\n          type: $this.data('type'),\n          price: parseFloat($this.data('price')),\n          active: parseInt($this.data('active'), 10),\n          access: $this.data('last-access'),\n          display: $this.hasClass('module-item-list') ? self.DISPLAY_LIST : self.DISPLAY_GRID,\n          container,\n        });\n\n        $this.remove();\n      });\n    });\n\n    self.addonsCardGrid = $(this.addonItemGridSelector);\n    self.addonsCardList = $(this.addonItemListSelector);\n    self.updateModuleVisibility();\n    $('body').trigger('moduleCatalogLoaded');\n  }\n\n  /**\n   * Prepare sorting\n   *\n   */\n  updateModuleSorting() {\n    const self = this;\n\n    if (!self.currentSorting) {\n      return;\n    }\n\n    // Modules sorting\n    let order = 'asc';\n    let key = self.currentSorting;\n    const splittedKey = key.split('-');\n    if (splittedKey.length > 1) {\n      key = splittedKey[0];\n      if (splittedKey[1] === 'desc') {\n        order = 'desc';\n      }\n    }\n\n    const currentCompare = (a, b) => {\n      let aData = a[key];\n      let bData = b[key];\n      if (key === 'access') {\n        aData = (new Date(aData)).getTime();\n        bData = (new Date(bData)).getTime();\n        aData = isNaN(aData) ? 0 : aData;\n        bData = isNaN(bData) ? 0 : bData;\n        if (aData === bData) {\n          return b.name.localeCompare(a.name);\n        }\n      }\n\n      if (aData < bData) return -1;\n      if (aData > bData) return 1;\n\n      return 0;\n    };\n\n    self.modulesList.sort(currentCompare);\n    if (order === 'desc') {\n      self.modulesList.reverse();\n    }\n  }\n\n  updateModuleContainerDisplay() {\n    const self = this;\n\n    $('.module-short-list').each(function setShortListVisibility() {\n      const container = $(this);\n      const nbModulesInContainer = container.find('.module-item').length;\n      if (\n        (\n          self.currentRefCategory\n          && self.currentRefCategory !== String(container.find('.modules-list').data('name'))\n        ) || (\n          self.currentRefStatus !== null\n          && nbModulesInContainer === 0\n        ) || (\n          nbModulesInContainer === 0\n          && String(container.find('.modules-list').data('name')) === self.CATEGORY_RECENTLY_USED\n        ) || (\n          self.currentTagsList.length > 0\n          && nbModulesInContainer === 0\n        )\n      ) {\n        container.hide();\n        return;\n      }\n\n      container.show();\n      if (nbModulesInContainer >= self.DEFAULT_MAX_PER_CATEGORIES) {\n        container.find(`${self.seeMoreSelector}, ${self.seeLessSelector}`).show();\n      } else {\n        container.find(`${self.seeMoreSelector}, ${self.seeLessSelector}`).hide();\n      }\n    });\n  }\n\n  updateModuleVisibility() {\n    const self = this;\n\n    self.updateModuleSorting();\n\n    $(self.recentlyUsedSelector).find('.module-item').remove();\n    $('.modules-list').find('.module-item').remove();\n\n    // Modules visibility management\n    let isVisible;\n    let currentModule;\n    let moduleCategory;\n    let tagExists;\n    let newValue;\n\n    const modulesListLength = self.modulesList.length;\n    const counter = {};\n\n    for (let i = 0; i < modulesListLength; i += 1) {\n      currentModule = self.modulesList[i];\n      if (currentModule.display === self.currentDisplay) {\n        isVisible = true;\n\n        moduleCategory = self.currentRefCategory === self.CATEGORY_RECENTLY_USED ?\n                         self.CATEGORY_RECENTLY_USED :\n                         currentModule.categories;\n\n        // Check for same category\n        if (self.currentRefCategory !== null) {\n          isVisible &= moduleCategory === self.currentRefCategory;\n        }\n\n        // Check for same status\n        if (self.currentRefStatus !== null) {\n          isVisible &= currentModule.active === self.currentRefStatus;\n        }\n\n        // Check for tag list\n        if (self.currentTagsList.length) {\n          tagExists = false;\n          $.each(self.currentTagsList, (index, value) => {\n            newValue = value.toLowerCase();\n            tagExists |= (\n              currentModule.name.indexOf(newValue) !== -1\n              || currentModule.description.indexOf(newValue) !== -1\n              || currentModule.author.indexOf(newValue) !== -1\n              || currentModule.techName.indexOf(newValue) !== -1\n            );\n          });\n          isVisible &= tagExists;\n        }\n\n        /**\n         * If list display without search we must display only the first 5 modules\n         */\n        if (self.currentDisplay === self.DISPLAY_LIST && !self.currentTagsList.length) {\n          if (self.currentCategoryDisplay[moduleCategory] === undefined) {\n            self.currentCategoryDisplay[moduleCategory] = false;\n          }\n\n          if (!counter[moduleCategory]) {\n            counter[moduleCategory] = 0;\n          }\n\n          if (moduleCategory === self.CATEGORY_RECENTLY_USED) {\n            if (counter[moduleCategory] >= self.DEFAULT_MAX_RECENTLY_USED) {\n              isVisible &= self.currentCategoryDisplay[moduleCategory];\n            }\n          } else if (counter[moduleCategory] >= self.DEFAULT_MAX_PER_CATEGORIES) {\n            isVisible &= self.currentCategoryDisplay[moduleCategory];\n          }\n\n          counter[moduleCategory] += 1;\n        }\n\n        // If visible, display (Thx captain obvious)\n        if (isVisible) {\n          if (self.currentRefCategory === self.CATEGORY_RECENTLY_USED) {\n            $(self.recentlyUsedSelector).append(currentModule.domObject);\n          } else {\n            currentModule.container.append(currentModule.domObject);\n          }\n        }\n      }\n    }\n\n    self.updateModuleContainerDisplay();\n\n    if (self.currentTagsList.length) {\n      $('.modules-list').append(this.currentDisplay === self.DISPLAY_GRID ? this.addonsCardGrid : this.addonsCardList);\n    }\n\n    self.updateTotalResults();\n  }\n\n  initPageChangeProtection() {\n    const self = this;\n\n    $(window).on('beforeunload', () => {\n      if (self.isUploadStarted === true) {\n        return 'It seems some critical operation are running, are you sure you want to change page ? It might cause some unexepcted behaviors.';\n      }\n    });\n  }\n\n\n  buildBulkActionModuleList() {\n    const checkBoxesSelector = this.getBulkCheckboxesCheckedSelector();\n    const moduleItemSelector = this.getModuleItemSelector();\n    let alreadyDoneFlag = 0;\n    let htmlGenerated = '';\n    let currentElement;\n\n    $(checkBoxesSelector).each(function prepareCheckboxes() {\n      if (alreadyDoneFlag === 10) {\n        // Break each\n        htmlGenerated += '- ...';\n        return false;\n      }\n\n      currentElement = $(this).closest(moduleItemSelector);\n      htmlGenerated += `- ${currentElement.data('name')}<br/>`;\n      alreadyDoneFlag += 1;\n\n      return true;\n    });\n\n    return htmlGenerated;\n  }\n\n  initAddonsConnect() {\n    const self = this;\n\n    // Make addons connect modal ready to be clicked\n    if ($(self.addonsConnectModalBtnSelector).attr('href') === '#') {\n      $(self.addonsConnectModalBtnSelector).attr('data-toggle', 'modal');\n      $(self.addonsConnectModalBtnSelector).attr('data-target', self.addonsConnectModalSelector);\n    }\n\n    if ($(self.addonsLogoutModalBtnSelector).attr('href') === '#') {\n      $(self.addonsLogoutModalBtnSelector).attr('data-toggle', 'modal');\n      $(self.addonsLogoutModalBtnSelector).attr('data-target', self.addonsLogoutModalSelector);\n    }\n\n    $('body').on('submit', self.addonsConnectForm, function initializeBodySubmit(event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      $.ajax({\n        method: 'POST',\n        url: $(this).attr('action'),\n        dataType: 'json',\n        data: $(this).serialize(),\n        beforeSend: () => {\n          $(self.addonsLoginButtonSelector).show();\n          $('button.btn[type=\"submit\"]', self.addonsConnectForm).hide();\n        }\n      }).done((response) => {\n        if (response.success === 1) {\n          location.reload();\n        } else {\n          $.growl.error({message: response.message});\n          $(self.addonsLoginButtonSelector).hide();\n          $('button.btn[type=\"submit\"]', self.addonsConnectForm).fadeIn();\n        }\n      });\n    });\n  }\n\n  initAddModuleAction() {\n    const self = this;\n    const addModuleButton = $(self.addonsImportModalBtnSelector);\n    addModuleButton.attr('data-toggle', 'modal');\n    addModuleButton.attr('data-target', self.dropZoneModalSelector);\n  }\n\n  initDropzone() {\n    const self = this;\n    const body = $('body');\n    const dropzone = $('.dropzone');\n\n    // Reset modal when click on Retry in case of failure\n    body.on(\n      'click',\n      this.moduleImportFailureRetrySelector,\n      () => {\n        $(`${self.moduleImportSuccessSelector},${self.moduleImportFailureSelector},${self.moduleImportProcessingSelector}`).fadeOut(() => {\n          /**\n           * Added timeout for a better render of animation\n           * and avoid to have displayed at the same time\n           */\n          setTimeout(() => {\n            $(self.moduleImportStartSelector).fadeIn(() => {\n              $(self.moduleImportFailureMsgDetailsSelector).hide();\n              $(self.moduleImportSuccessConfigureBtnSelector).hide();\n              dropzone.removeAttr('style');\n            });\n          }, 550);\n        });\n      }\n    );\n\n    // Reinit modal on exit, but check if not already processing something\n    body.on('hidden.bs.modal', this.dropZoneModalSelector, () => {\n      $(`${self.moduleImportSuccessSelector}, ${self.moduleImportFailureSelector}`).hide();\n      $(self.moduleImportStartSelector).show();\n\n      dropzone.removeAttr('style');\n      $(self.moduleImportFailureMsgDetailsSelector).hide();\n      $(self.moduleImportSuccessConfigureBtnSelector).hide();\n      $(self.dropZoneModalFooterSelector).html('');\n      $(self.moduleImportConfirmSelector).hide();\n    });\n\n    // Change the way Dropzone.js lib handle file input trigger\n    body.on(\n      'click',\n      `.dropzone:not(${this.moduleImportSelectFileManualSelector}, ${this.moduleImportSuccessConfigureBtnSelector})`,\n      (event, manualSelect) => {\n        // if click comes from .module-import-start-select-manual, stop everything\n        if (typeof manualSelect === 'undefined') {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n      }\n    );\n\n    body.on('click', this.moduleImportSelectFileManualSelector, (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      /**\n       * Trigger click on hidden file input, and pass extra data\n       * to .dropzone click handler fro it to notice it comes from here\n       */\n      $('.dz-hidden-input').trigger('click', ['manual_select']);\n    });\n\n    // Handle modal closure\n    body.on('click', this.moduleImportModalCloseBtn, () => {\n      if (self.isUploadStarted !== true) {\n        $(self.dropZoneModalSelector).modal('hide');\n      }\n    });\n\n    // Fix issue on click configure button\n    body.on('click', this.moduleImportSuccessConfigureBtnSelector, function initializeBodyClickOnModuleImport(event) {\n      event.stopPropagation();\n      event.preventDefault();\n      window.location = $(this).attr('href');\n    });\n\n    // Open failure message details box\n    body.on('click', this.moduleImportFailureDetailsBtnSelector, () => {\n      $(self.moduleImportFailureMsgDetailsSelector).slideDown();\n    });\n\n    // @see: dropzone.js\n    const dropzoneOptions = {\n      url: window.moduleURLs.moduleImport,\n      acceptedFiles: '.zip, .tar',\n      // The name that will be used to transfer the file\n      paramName: 'file_uploaded',\n      maxFilesize: 50, // can't be greater than 50Mb because it's an addons limitation\n      uploadMultiple: false,\n      addRemoveLinks: true,\n      dictDefaultMessage: '',\n      hiddenInputContainer: self.dropZoneImportZoneSelector,\n      /**\n       * Add unlimited timeout. Otherwise dropzone timeout is 30 seconds\n       *  and if a module is long to install, it is not possible to install the module.\n       */\n      timeout: 0,\n      addedfile: () => {\n        self.animateStartUpload();\n      },\n      processing: () => {\n        // Leave it empty since we don't require anything while processing upload\n      },\n      error: (file, message) => {\n        self.displayOnUploadError(message);\n      },\n      complete: (file) => {\n        if (file.status !== 'error') {\n          const responseObject = $.parseJSON(file.xhr.response);\n          if (typeof responseObject.is_configurable === 'undefined') responseObject.is_configurable = null;\n          if (typeof responseObject.module_name === 'undefined') responseObject.module_name = null;\n\n          self.displayOnUploadDone(responseObject);\n        }\n        // State that we have finish the process to unlock some actions\n        self.isUploadStarted = false;\n      },\n    };\n\n    dropzone.dropzone($.extend(dropzoneOptions));\n  }\n\n  animateStartUpload() {\n    const self = this;\n    const dropzone = $('.dropzone');\n    // State that we start module upload\n    self.isUploadStarted = true;\n    $(self.moduleImportStartSelector).hide(0);\n    dropzone.css('border', 'none');\n    $(self.moduleImportProcessingSelector).fadeIn();\n  }\n\n  animateEndUpload(callback) {\n    const self = this;\n    $(self.moduleImportProcessingSelector).finish().fadeOut(callback);\n  }\n\n  /**\n   * Method to call for upload modal, when the ajax call went well.\n   *\n   * @param object result containing the server response\n   */\n  displayOnUploadDone(result) {\n    const self = this;\n    self.animateEndUpload(() => {\n      if (result.status === true) {\n        if (result.is_configurable === true) {\n          const configureLink = window.moduleURLs.configurationPage.replace(/:number:/, result.module_name);\n          $(self.moduleImportSuccessConfigureBtnSelector).attr('href', configureLink);\n          $(self.moduleImportSuccessConfigureBtnSelector).show();\n        }\n        $(self.moduleImportSuccessSelector).fadeIn();\n      } else if (typeof result.confirmation_subject !== 'undefined') {\n        self.displayPrestaTrustStep(result);\n      } else {\n        $(self.moduleImportFailureMsgDetailsSelector).html(result.msg);\n        $(self.moduleImportFailureSelector).fadeIn();\n      }\n    });\n  }\n\n  /**\n   * Method to call for upload modal, when the ajax call went wrong or when the action requested could not\n   * succeed for some reason.\n   *\n   * @param string message explaining the error.\n   */\n  displayOnUploadError(message) {\n    const self = this;\n    self.animateEndUpload(() => {\n      $(self.moduleImportFailureMsgDetailsSelector).html(message);\n      $(self.moduleImportFailureSelector).fadeIn();\n    });\n  }\n\n  /**\n   * If PrestaTrust needs to be confirmed, we ask for the confirmation\n   * modal content and we display it in the currently displayed one.\n   * We also generate the ajax call to trigger once we confirm we want to install\n   * the module.\n   *\n   * @param Previous server response result\n   */\n  displayPrestaTrustStep(result) {\n    const self = this;\n    const modal = self.moduleCardController._replacePrestaTrustPlaceholders(result);\n    const moduleName = result.module.attributes.name;\n\n    $(this.moduleImportConfirmSelector).html(modal.find('.modal-body').html()).fadeIn();\n    $(this.dropZoneModalFooterSelector).html(modal.find('.modal-footer').html()).fadeIn();\n\n    $(this.dropZoneModalFooterSelector).find('.pstrust-install').off('click').on('click', () => {\n      $(self.moduleImportConfirmSelector).hide();\n      $(self.dropZoneModalFooterSelector).html('');\n      self.animateStartUpload();\n\n      // Install ajax call\n      $.post(result.module.attributes.urls.install, {'actionParams[confirmPrestaTrust]': '1'})\n       .done((data) => {\n         self.displayOnUploadDone(data[moduleName]);\n       })\n       .fail((data) => {\n         self.displayOnUploadError(data[moduleName]);\n       })\n       .always(() => {\n         self.isUploadStarted = false;\n       });\n    });\n  }\n\n  getBulkCheckboxesSelector() {\n    return this.currentDisplay === this.DISPLAY_GRID\n         ? this.bulkActionCheckboxGridSelector\n         : this.bulkActionCheckboxListSelector;\n  }\n\n\n  getBulkCheckboxesCheckedSelector() {\n    return this.currentDisplay === this.DISPLAY_GRID\n         ? this.checkedBulkActionGridSelector\n         : this.checkedBulkActionListSelector;\n  }\n\n  getModuleItemSelector() {\n    return this.currentDisplay === this.DISPLAY_GRID\n         ? this.moduleItemGridSelector\n         : this.moduleItemListSelector;\n  }\n\n  /**\n   * Get the module notifications count and displays it as a badge on the notification tab\n   * @return void\n   */\n  getNotificationsCount() {\n    const self = this;\n    $.getJSON(\n      window.moduleURLs.notificationsCount,\n      self.updateNotificationsCount\n    ).fail(() => {\n      console.error('Could not retrieve module notifications count.');\n    });\n  }\n\n  updateNotificationsCount(badge) {\n    const destinationTabs = {\n      to_configure: $('#subtab-AdminModulesNotifications'),\n      to_update: $('#subtab-AdminModulesUpdates'),\n    };\n\n    for (let key in destinationTabs) {\n      if (destinationTabs[key].length === 0) {\n        continue;\n      }\n\n      destinationTabs[key].find('.notification-counter').text(badge[key]);\n    }\n  }\n\n  initAddonsSearch() {\n    const self = this;\n    $('body').on(\n      'click',\n      `${self.addonItemGridSelector}, ${self.addonItemListSelector}`,\n      () => {\n        let searchQuery = '';\n        if (self.currentTagsList.length) {\n          searchQuery = encodeURIComponent(self.currentTagsList.join(' '));\n        }\n\n        window.open(`${self.baseAddonsUrl}search.php?search_query=${searchQuery}`, '_blank');\n      }\n    );\n  }\n\n  initCategoriesGrid() {\n    const self = this;\n\n    $('body').on('click', this.categoryGridItemSelector, function initilaizeGridBodyClick(event) {\n      event.stopPropagation();\n      event.preventDefault();\n      const refCategory = $(this).data('category-ref');\n\n      // In case we have some tags we need to reset it !\n      if (self.currentTagsList.length) {\n        self.pstaggerInput.resetTags(false);\n        self.currentTagsList = [];\n      }\n      const menuCategoryToTrigger = $(`${self.categoryItemSelector}[data-category-ref=\"${refCategory}\"]`);\n\n      if (!menuCategoryToTrigger.length) {\n        console.warn(`No category with ref (${refCategory}) seems to exist!`);\n        return false;\n      }\n\n      // Hide current category grid\n      if (self.isCategoryGridDisplayed === true) {\n        $(self.categoryGridSelector).fadeOut();\n        self.isCategoryGridDisplayed = false;\n      }\n\n      // Trigger click on right category\n      $(`${self.categoryItemSelector}[data-category-ref=\"${refCategory}\"]`).click();\n      return true;\n    });\n  }\n\n  initCurrentDisplay() {\n    this.currentDisplay = this.currentDisplay === '' ? this.DISPLAY_LIST : this.DISPLAY_GRID;\n  }\n\n  initSortingDropdown() {\n    const self = this;\n\n    self.currentSorting = $(this.moduleSortingDropdownSelector).find(':checked').attr('value');\n    if (!self.currentSorting) {\n      self.currentSorting = 'access-desc';\n    }\n\n    $('body').on(\n      'change',\n      self.moduleSortingDropdownSelector,\n      function initializeBodySortingChange() {\n        self.currentSorting = $(this).find(':checked').attr('value');\n        self.updateModuleVisibility();\n      }\n    );\n  }\n\n  doBulkAction(requestedBulkAction) {\n    const self = this;\n    // This object is used to check if requested bulkAction is available and give proper\n    // url segment to be called for it\n    const forceDeletion = $('#force_bulk_deletion').prop('checked');\n\n    const bulkActionToUrl = {\n      'bulk-uninstall': 'uninstall',\n      'bulk-disable': 'disable',\n      'bulk-enable': 'enable',\n      'bulk-disable-mobile': 'disable_mobile',\n      'bulk-enable-mobile': 'enable_mobile',\n      'bulk-reset': 'reset',\n    };\n\n    // Note no grid selector used yet since we do not needed it at dev time\n    // Maybe useful to implement this kind of things later if intended to\n    // use this functionality elsewhere but \"manage my module\" section\n    if (typeof bulkActionToUrl[requestedBulkAction] === 'undefined') {\n      $.growl.error({message: window.translate_javascripts['Bulk Action - Request not found'].replace('[1]', requestedBulkAction)});\n      return false;\n    }\n\n    // Loop over all checked bulk checkboxes\n    const bulkActionSelectedSelector = this.getBulkCheckboxesCheckedSelector();\n\n    if ($(bulkActionSelectedSelector).length <= 0) {\n      console.warn(window.translate_javascripts['Bulk Action - One module minimum']);\n      return false;\n    }\n\n    const bulkModulesTechNames = [];\n    let moduleTechName;\n    $(bulkActionSelectedSelector).each(function bulkActionSelector() {\n      moduleTechName = $(this).data('tech-name');\n      bulkModulesTechNames.push({\n        techName: moduleTechName,\n        actionMenuObj: $(this).closest('.module-checkbox-bulk-list').next(),\n      });\n    });\n\n    let actionMenuObj;\n    let urlActionSegment;\n    let urlElement;\n    $.each(bulkModulesTechNames, function bulkModulesLoop(index, data) {\n      actionMenuObj = data.actionMenuObj;\n      moduleTechName = data.techName;\n\n      urlActionSegment = bulkActionToUrl[requestedBulkAction];\n\n      if (typeof self.moduleCardController !== 'undefined') {\n        // We use jQuery to get the specific link for this action. If found, we send it.\n        urlElement = $(\n          self.moduleCardController.moduleActionMenuLinkSelector + urlActionSegment,\n          actionMenuObj\n        );\n\n        if (urlElement.length > 0) {\n          self.moduleCardController._requestToController(\n            urlActionSegment,\n            urlElement,\n            forceDeletion\n          );\n        } else {\n          $.growl.error({message: window.translate_javascripts['Bulk Action - Request not available for module']\n                                        .replace('[1]', urlActionSegment)\n                                        .replace('[2]', moduleTechName)});\n        }\n      }\n    });\n\n    return true;\n  }\n\n  initActionButtons() {\n    const self = this;\n    $('body').on(\n      'click',\n      self.moduleInstallBtnSelector,\n      function initializeActionButtonsClick(event) {\n        const $this = $(this);\n        const $next = $($this.next());\n        event.preventDefault();\n\n        $this.hide();\n        $next.show();\n\n        $.ajax({\n          url: $this.data('url'),\n          dataType: 'json',\n        }).done(() => {\n          $next.fadeOut();\n        });\n      }\n    );\n\n    // \"Upgrade All\" button handler\n    $('body').on('click', self.upgradeAllSource, (event) => {\n      event.preventDefault();\n      $(self.upgradeAllTargets).click();\n    });\n  }\n\n  initCategorySelect() {\n    const self = this;\n    const body = $('body');\n    body.on(\n      'click',\n      self.categoryItemSelector,\n      function initializeCategorySelectClick() {\n        // Get data from li DOM input\n        self.currentRefCategory = $(this).data('category-ref');\n        self.currentRefCategory = self.currentRefCategory ? String(self.currentRefCategory).toLowerCase() : null;\n        // Change dropdown label to set it to the current category's displayname\n        $(self.categorySelectorLabelSelector).text($(this).data('category-display-name'));\n        $(self.categoryResetBtnSelector).show();\n        self.updateModuleVisibility();\n      }\n    );\n\n    body.on(\n      'click',\n      self.categoryResetBtnSelector,\n      function initializeCategoryResetButtonClick() {\n        const rawText = $(self.categorySelector).attr('aria-labelledby');\n        const upperFirstLetter = rawText.charAt(0).toUpperCase();\n        const removedFirstLetter = rawText.slice(1);\n        const originalText = upperFirstLetter + removedFirstLetter;\n\n        $(self.categorySelectorLabelSelector).text(originalText);\n        $(this).hide();\n        self.currentRefCategory = null;\n        self.updateModuleVisibility();\n      }\n    );\n  }\n\n  initSearchBlock() {\n    const self = this;\n    self.pstaggerInput = $('#module-search-bar').pstagger({\n      onTagsChanged: (tagList) => {\n        self.currentTagsList = tagList;\n        self.updateModuleVisibility();\n      },\n      onResetTags: () => {\n        self.currentTagsList = [];\n        self.updateModuleVisibility();\n      },\n      inputPlaceholder: window.translate_javascripts['Search - placeholder'],\n      closingCross: true,\n      context: self,\n    });\n\n    $('body').on('click', '.module-addons-search-link', (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      window.open($(this).attr('href'), '_blank');\n    });\n  }\n\n  /**\n   * Initialize display switching between List or Grid\n   */\n  initSortingDisplaySwitch() {\n    const self = this;\n\n    $('body').on(\n      'click',\n      '.module-sort-switch',\n      function switchSort() {\n        const switchTo = $(this).data('switch');\n        const isAlreadyDisplayed = $(this).hasClass('active-display');\n        if (typeof switchTo !== 'undefined' && isAlreadyDisplayed === false) {\n          self.switchSortingDisplayTo(switchTo);\n          self.currentDisplay = switchTo;\n        }\n      }\n    );\n  }\n\n  switchSortingDisplayTo(switchTo) {\n    if (switchTo !== this.DISPLAY_GRID && switchTo !== this.DISPLAY_LIST) {\n      console.error(`Can't switch to undefined display property \"${switchTo}\"`);\n      return;\n    }\n\n    $('.module-sort-switch').removeClass('module-sort-active');\n    $(`#module-sort-${switchTo}`).addClass('module-sort-active');\n    this.currentDisplay = switchTo;\n    this.updateModuleVisibility();\n  }\n\n  initializeSeeMore() {\n    const self = this;\n\n    $(`${self.moduleShortList} ${self.seeMoreSelector}`).on('click', function seeMore() {\n      self.currentCategoryDisplay[$(this).data('category')] = true;\n      $(this).addClass('d-none');\n      $(this).closest(self.moduleShortList).find(self.seeLessSelector).removeClass('d-none');\n      self.updateModuleVisibility();\n    });\n\n    $(`${self.moduleShortList} ${self.seeLessSelector}`).on('click', function seeMore() {\n      self.currentCategoryDisplay[$(this).data('category')] = false;\n      $(this).addClass('d-none');\n      $(this).closest(self.moduleShortList).find(self.seeMoreSelector).removeClass('d-none');\n      self.updateModuleVisibility();\n    });\n  }\n\n  updateTotalResults() {\n    const replaceFirstWordBy = (element, value) => {\n      const explodedText = element.text().split(' ');\n      explodedText[0] = value;\n      element.text(explodedText.join(' '));\n    };\n\n    // If there are some shortlist: each shortlist count the modules on the next container.\n    const $shortLists = $('.module-short-list');\n    if ($shortLists.length > 0) {\n      $shortLists.each(function shortLists() {\n        const $this = $(this);\n        replaceFirstWordBy(\n          $this.find('.module-search-result-wording'),\n          $this.next('.modules-list').find('.module-item').length\n        );\n      });\n\n      // If there is no shortlist: the wording directly update from the only module container.\n    } else {\n      const modulesCount = $('.modules-list').find('.module-item').length;\n      replaceFirstWordBy($('.module-search-result-wording'), modulesCount);\n\n      const selectorToToggle = (self.currentDisplay === self.DISPLAY_LIST) ?\n                               this.addonItemListSelector :\n                               this.addonItemGridSelector;\n      $(selectorToToggle).toggle(modulesCount !== (this.modulesList.length / 2));\n\n      if (modulesCount === 0) {\n        $('.module-addons-search-link').attr(\n          'href',\n          `${this.baseAddonsUrl}search.php?search_query=${encodeURIComponent(this.currentTagsList.join(' '))}`\n        );\n      }\n    }\n  }\n}\n\nexport default AdminModuleController;\n","/**\n * 2007-2018 PrestaShop.\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to http://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2018 PrestaShop SA\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\n/**\n * Module Admin Page Loader.\n * @constructor\n */\nclass ModuleLoader {\n  constructor() {\n    ModuleLoader.handleImport();\n    ModuleLoader.handleEvents();\n  }\n\n  static handleImport() {\n    const moduleImport = $('#module-import');\n    moduleImport.click(() => {\n      moduleImport.addClass('onclick', 250, validate);\n    });\n\n    function validate() {\n      setTimeout(\n        () => {\n          moduleImport.removeClass('onclick');\n          moduleImport.addClass('validate', 450, callback);\n        },\n        2250\n      );\n    }\n    function callback() {\n      setTimeout(\n        () => {\n          moduleImport.removeClass('validate');\n        },\n        1250\n      );\n    }\n  }\n\n  static handleEvents() {\n    $('body').on(\n      'click',\n      'a.module-read-more-grid-btn, a.module-read-more-list-btn',\n      (event) => {\n        event.preventDefault();\n        const modulePoppin = $(event.target).data('target');\n\n        $.get(event.target.href, (data) => {\n          $(modulePoppin).html(data);\n          $(modulePoppin).modal();\n        });\n      }\n    );\n  }\n}\n\nexport default ModuleLoader;\n","/**\n * 2007-2018 PrestaShop.\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to http://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2018 PrestaShop SA\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nimport ModuleCard from '../../components/module-card';\nimport AdminModuleController from './controller';\nimport ModuleLoader from './loader';\n\nconst $ = window.$;\n\n$(() => {\n  const moduleCardController = new ModuleCard();\n  new ModuleLoader();\n  new AdminModuleController(moduleCardController);\n});\n","/**\n * 2007-2018 PrestaShop\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * https://opensource.org/licenses/OSL-3.0\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@prestashop.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade PrestaShop to newer\n * versions in the future. If you wish to customize PrestaShop for your\n * needs please refer to http://www.prestashop.com for more information.\n *\n * @author    PrestaShop SA <contact@prestashop.com>\n * @copyright 2007-2018 PrestaShop SA\n * @license   https://opensource.org/licenses/OSL-3.0 Open Software License (OSL 3.0)\n * International Registered Trademark & Property of PrestaShop SA\n */\n\nconst $ = window.$;\n\nvar BOEvent = {\n  on: function(eventName, callback, context) {\n\n    document.addEventListener(eventName, function(event) {\n      if (typeof context !== 'undefined') {\n        callback.call(context, event);\n      } else {\n        callback(event);\n      }\n    });\n  },\n\n  emitEvent: function(eventName, eventType) {\n    var _event = document.createEvent(eventType);\n    // true values stand for: can bubble, and is cancellable\n    _event.initEvent(eventName, true, true);\n    document.dispatchEvent(_event);\n  }\n};\n\n\n/**\n * Class is responsible for handling Module Card behavior\n *\n * This is a port of admin-dev/themes/default/js/bundle/module/module_card.js\n */\nexport default class ModuleCard {\n\n  constructor() {\n    /* Selectors for module action links (uninstall, reset, etc...) to add a confirm popin */\n    this.moduleActionMenuLinkSelector = 'button.module_action_menu_';\n    this.moduleActionMenuInstallLinkSelector = 'button.module_action_menu_install';\n    this.moduleActionMenuEnableLinkSelector = 'button.module_action_menu_enable';\n    this.moduleActionMenuUninstallLinkSelector = 'button.module_action_menu_uninstall';\n    this.moduleActionMenuDisableLinkSelector = 'button.module_action_menu_disable';\n    this.moduleActionMenuEnableMobileLinkSelector = 'button.module_action_menu_enable_mobile';\n    this.moduleActionMenuDisableMobileLinkSelector = 'button.module_action_menu_disable_mobile';\n    this.moduleActionMenuResetLinkSelector = 'button.module_action_menu_reset';\n    this.moduleActionMenuUpdateLinkSelector = 'button.module_action_menu_upgrade';\n    this.moduleItemListSelector = '.module-item-list';\n    this.moduleItemGridSelector = '.module-item-grid';\n    this.moduleItemActionsSelector = '.module-actions';\n\n    /* Selectors only for modal buttons */\n    this.moduleActionModalDisableLinkSelector = 'a.module_action_modal_disable';\n    this.moduleActionModalResetLinkSelector = 'a.module_action_modal_reset';\n    this.moduleActionModalUninstallLinkSelector = 'a.module_action_modal_uninstall';\n    this.forceDeletionOption = '#force_deletion';\n\n    this.initActionButtons();\n  }\n\n  initActionButtons() {\n    const self = this;\n\n    $(document).on('click', this.forceDeletionOption, function () {\n      const btn = $(self.moduleActionModalUninstallLinkSelector, $(\"div.module-item-list[data-tech-name='\" + $(this).attr(\"data-tech-name\") + \"']\"));\n      if ($(this).prop('checked') === true) {\n        btn.attr('data-deletion', 'true');\n      } else {\n        btn.removeAttr('data-deletion');\n      }\n    });\n\n    $(document).on('click', this.moduleActionMenuInstallLinkSelector, function () {\n      if ($(\"#modal-prestatrust\").length) {\n        $(\"#modal-prestatrust\").modal('hide');\n      }\n      return self._dispatchPreEvent('install', this) && self._confirmAction('install', this) && self._requestToController('install', $(this));\n    });\n    $(document).on('click', this.moduleActionMenuEnableLinkSelector, function () {\n      return self._dispatchPreEvent('enable', this) && self._confirmAction('enable', this) && self._requestToController('enable', $(this));\n    });\n    $(document).on('click', this.moduleActionMenuUninstallLinkSelector, function () {\n      return self._dispatchPreEvent('uninstall', this) && self._confirmAction('uninstall', this) && self._requestToController('uninstall', $(this));\n    });\n    $(document).on('click', this.moduleActionMenuDisableLinkSelector, function () {\n      return self._dispatchPreEvent('disable', this) && self._confirmAction('disable', this) && self._requestToController('disable', $(this));\n    });\n    $(document).on('click', this.moduleActionMenuEnableMobileLinkSelector, function () {\n      return self._dispatchPreEvent('enable_mobile', this) && self._confirmAction('enable_mobile', this) && self._requestToController('enable_mobile', $(this));\n    });\n    $(document).on('click', this.moduleActionMenuDisableMobileLinkSelector, function () {\n      return self._dispatchPreEvent('disable_mobile', this) && self._confirmAction('disable_mobile', this) && self._requestToController('disable_mobile', $(this));\n    });\n    $(document).on('click', this.moduleActionMenuResetLinkSelector, function () {\n      return self._dispatchPreEvent('reset', this) && self._confirmAction('reset', this) && self._requestToController('reset', $(this));\n    });\n    $(document).on('click', this.moduleActionMenuUpdateLinkSelector, function () {\n      return self._dispatchPreEvent('update', this) && self._confirmAction('update', this) && self._requestToController('update', $(this));\n    });\n\n    $(document).on('click', this.moduleActionModalDisableLinkSelector, function () {\n      return self._requestToController('disable', $(self.moduleActionMenuDisableLinkSelector, $(\"div.module-item-list[data-tech-name='\" + $(this).attr(\"data-tech-name\") + \"']\")));\n    });\n    $(document).on('click', this.moduleActionModalResetLinkSelector, function () {\n      return self._requestToController('reset', $(self.moduleActionMenuResetLinkSelector, $(\"div.module-item-list[data-tech-name='\" + $(this).attr(\"data-tech-name\") + \"']\")));\n    });\n    $(document).on('click', this.moduleActionModalUninstallLinkSelector, function (e) {\n      $(e.target).parents('.modal').on('hidden.bs.modal', function(event) {\n        return self._requestToController(\n          'uninstall',\n          $(\n            self.moduleActionMenuUninstallLinkSelector,\n            $(\"div.module-item-list[data-tech-name='\" + $(e.target).attr(\"data-tech-name\") + \"']\")\n          ),\n          $(e.target).attr(\"data-deletion\")\n        );\n      }.bind(e));\n    });\n  };\n\n  _getModuleItemSelector() {\n    if ($(this.moduleItemListSelector).length) {\n      return this.moduleItemListSelector;\n    } else {\n      return this.moduleItemGridSelector;\n    }\n  };\n\n  _confirmAction(action, element) {\n    var modal = $('#' + $(element).data('confirm_modal'));\n    if (modal.length != 1) {\n      return true;\n    }\n    modal.first().modal('show');\n\n    return false; // do not allow a.href to reload the page. The confirm modal dialog will do it async if needed.\n  };\n\n  /**\n   * Update the content of a modal asking a confirmation for PrestaTrust and open it\n   *\n   * @param {array} result containing module data\n   * @return {void}\n   */\n  _confirmPrestaTrust(result) {\n    var that = this;\n    var modal = this._replacePrestaTrustPlaceholders(result);\n\n    modal.find(\".pstrust-install\").off('click').on('click', function() {\n      // Find related form, update it and submit it\n      var install_button = $(that.moduleActionMenuInstallLinkSelector, '.module-item[data-tech-name=\"' + result.module.attributes.name + '\"]');\n      var form = install_button.parent(\"form\");\n      $('<input>').attr({\n        type: 'hidden',\n        value: '1',\n        name: 'actionParams[confirmPrestaTrust]'\n      }).appendTo(form);\n\n      install_button.click();\n      modal.modal('hide');\n    });\n\n    modal.modal();\n  };\n\n  _replacePrestaTrustPlaceholders(result) {\n    var modal = $(\"#modal-prestatrust\");\n    var module = result.module.attributes;\n\n    if (result.confirmation_subject !== 'PrestaTrust' || !modal.length) {\n      return;\n    }\n\n    var alertClass = module.prestatrust.status ? 'success' : 'warning';\n\n    if (module.prestatrust.check_list.property) {\n      modal.find(\"#pstrust-btn-property-ok\").show();\n      modal.find(\"#pstrust-btn-property-nok\").hide();\n    } else {\n      modal.find(\"#pstrust-btn-property-ok\").hide();\n      modal.find(\"#pstrust-btn-property-nok\").show();\n      modal.find(\"#pstrust-buy\").attr(\"href\", module.url).toggle(module.url !== null);\n    }\n\n    modal.find(\"#pstrust-img\").attr({src: module.img, alt: module.name});\n    modal.find(\"#pstrust-name\").text(module.displayName);\n    modal.find(\"#pstrust-author\").text(module.author);\n    modal.find(\"#pstrust-label\").attr(\"class\", \"text-\" + alertClass).text(module.prestatrust.status ? 'OK' : 'KO');\n    modal.find(\"#pstrust-message\").attr(\"class\", \"alert alert-\"+alertClass);\n    modal.find(\"#pstrust-message > p\").text(module.prestatrust.message);\n\n    return modal;\n  }\n\n  _dispatchPreEvent(action, element) {\n    var event = jQuery.Event('module_card_action_event');\n\n    $(element).trigger(event, [action]);\n    if (event.isPropagationStopped() !== false || event.isImmediatePropagationStopped() !== false) {\n      return false; // if all handlers have not been called, then stop propagation of the click event.\n    }\n\n    return (event.result !== false); // explicit false must be set from handlers to stop propagation of the click event.\n  };\n\n  _requestToController(action, element, forceDeletion) {\n    var self = this;\n    var jqElementObj = element.closest(this.moduleItemActionsSelector);\n    var form = element.closest(\"form\");\n    var spinnerObj = $(\"<button class=\\\"btn-primary-reverse onclick unbind spinner \\\"></button>\");\n    var url = \"//\" + window.location.host + form.attr(\"action\");\n    var actionParams = form.serializeArray();\n\n    if (forceDeletion === \"true\" || forceDeletion === true) {\n      actionParams.push({name: \"actionParams[deletion]\", value: true});\n    }\n\n    $.ajax({\n      url: url,\n      dataType: 'json',\n      method: 'POST',\n      data: actionParams,\n      beforeSend: function () {\n        jqElementObj.hide();\n        jqElementObj.after(spinnerObj);\n      }\n    }).done(function (result) {\n      if (typeof result === undefined) {\n        $.growl.error({message: \"No answer received from server\"});\n      } else {\n        var moduleTechName = Object.keys(result)[0];\n\n        if (result[moduleTechName].status === false) {\n          if (typeof result[moduleTechName].confirmation_subject !== 'undefined') {\n            self._confirmPrestaTrust(result[moduleTechName]);\n          }\n\n          $.growl.error({message: result[moduleTechName].msg});\n        } else {\n          $.growl.notice({message: result[moduleTechName].msg});\n\n          var alteredSelector = null;\n          var mainElement = null;\n\n          if (action == \"uninstall\") {\n            jqElementObj.fadeOut(function() {\n              alteredSelector = self._getModuleItemSelector().replace('.', '');\n              mainElement = jqElementObj.parents('.' + alteredSelector).first();\n              mainElement.remove();\n            });\n\n            BOEvent.emitEvent(\"Module Uninstalled\", \"CustomEvent\");\n          } else if (action == \"disable\") {\n\n            alteredSelector = self._getModuleItemSelector().replace('.', '');\n            mainElement = jqElementObj.parents('.' + alteredSelector).first();\n            mainElement.addClass(alteredSelector + '-isNotActive');\n            mainElement.attr('data-active', '0');\n\n            BOEvent.emitEvent(\"Module Disabled\", \"CustomEvent\");\n          } else if (action == \"enable\") {\n            alteredSelector = self._getModuleItemSelector().replace('.', '');\n\n            mainElement = jqElementObj.parents('.' + alteredSelector).first();\n            mainElement.removeClass(alteredSelector + '-isNotActive');\n            mainElement.attr('data-active', '1');\n\n            BOEvent.emitEvent(\"Module Enabled\", \"CustomEvent\");\n          }\n\n          jqElementObj.replaceWith(result[moduleTechName].action_menu_html);\n        }\n      }\n    }).always(function () {\n      jqElementObj.fadeIn();\n      spinnerObj.remove();\n    });\n\n    return false;\n  };\n}\n"],"sourceRoot":""}